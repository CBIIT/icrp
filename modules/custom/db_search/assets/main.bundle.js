webpackJsonp([1],{0:function(l,n,t){l.exports=t("cDNt")},cDNt:function(l,n,t){"use strict";function e(l){return pn._35(0,[(l()(),pn._13(0,null,null,7,":svg:svg",[["version","2.0"]],[[1,"width",0],[1,"height",0]],[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==(u.dismissible&&(u.active=!1))&&e}return e},null,null)),pn._11(278528,null,0,wn.d,[pn.w,pn.x,pn.m,pn.J],{ngClass:[0,"ngClass"]},null),pn._28({spinner:0,dismissible:1}),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,0,":svg:circle",[["fill","transparent"],["stroke","#ccc"]],[[1,"cx",0],[1,"cy",0],[1,"r",0],[1,"stroke-width",0]],null,null,null,null)),(l()(),pn._33(null,["\n  \n  "])),(l()(),pn._13(0,null,null,0,":svg:path",[["fill","transparent"],["stroke","#666"]],[[1,"stroke-width",0],[1,"d",0]],null,null,null,null)),(l()(),pn._33(null,["\n"]))],function(l,n){l(n,1,0,l(n,2,0,!0,n.component.dismissible))},function(l,n){var t=n.component;l(n,0,0,t.size,t.size),l(n,4,0,t.size/2,t.size/2,t.size/2-t.size/10,t.size/10),l(n,6,0,t.size/10,t.arc)})}function u(l){return pn._35(0,[(l()(),pn._7(16777216,null,null,1,null,e)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.active)},null)}function i(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"ui-spinner",[],null,null,null,u,kn)),pn._11(4767744,null,0,In,[Sn],null,null)],null,null)}function o(l){return pn._35(0,[(l()(),pn._13(0,[[1,0],["input",1]],null,0,"input",[["class","select-input-disabled default"],["disabled",""],["type","text"]],[[8,"placeholder",0]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.placeholder)})}function r(l){return pn._35(0,[(l()(),pn._13(0,null,null,7,"div",[["class","select-label default"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"div",[],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.removeSelectedItem(l.context.index)&&e}return e},null,null)),(l()(),pn._33(null,["\u2715"])),(l()(),pn._33(null,["\n    "]))],null,function(l,n){l(n,3,0,n.context.$implicit.label)})}function a(l){return pn._35(0,[(l()(),pn._13(0,[["el",1]],null,2,"div",[["class","select-dropdown-item default noselect"]],[[8,"innerHTML",1]],[[null,"mouseover"],[null,"mouseup"],[null,"mousedown"]],function(l,n,t){var e=!0,u=l.component;if("mouseover"===n){e=!1!==u.highlightIndex(l.context.index,l.context.$implicit)&&e}if("mouseup"===n){e=!1!==u.mouseUp(l.context.index,l.context.$implicit)&&e}if("mousedown"===n){e=!1!==u.mouseDown(t,l.context.index,l.context.$implicit)&&e}return e},null,null)),pn._11(278528,null,0,wn.d,[pn.w,pn.x,pn.m,pn.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pn._28({selected:0})],function(l,n){var t=n.component;l(n,1,0,"select-dropdown-item default noselect",l(n,2,0,n.context.index>=t.initialHiglightedRangeIndex&&n.context.index<=t.currentHiglightedRangeIndex))},function(l,n){l(n,0,0,n.component.highlightItem(n.context.$implicit))})}function s(l){return pn._35(0,[(l()(),pn._13(0,null,null,18,"div",[["class","select-container default"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,9,"div",[["class","select-input-container default"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,r)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,3,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,[[1,0],["input",1]],null,0,"input",[["class","select-input default"],["type","text"]],[[8,"placeholder",0]],[[null,"keydown"],[null,"keyup"]],function(l,n,t){var e=!0,u=l.component;if("keydown"===n){e=!1!==u.handleKeydownEvent(t)&&e}if("keyup"===n){e=!1!==u.handleKeyupEvent(t)&&e}return e},null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,4,"div",[["class","select-dropdown default"]],[[4,"display",null]],null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,a)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,5,0,t.selectedItems),l(n,16,0,t.matchingItems)},function(l,n){var t=n.component;l(n,9,0,t.selectedItems.length?"":t.placeholder),l(n,13,0,t.showSearchDropdown&&t.matchingItems.length?"block":"none")})}function c(l){return pn._35(0,[pn._31(671088640,1,{input:0}),(l()(),pn._7(16777216,null,null,1,null,o)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n"])),(l()(),pn._7(16777216,null,null,1,null,s)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n"]))],function(l,n){var t=n.component;l(n,2,0,t.disable),l(n,5,0,!t.disable)},null)}function _(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"ui-select",[],null,[["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0;if("document:mousedown"===n){e=!1!==pn._26(l,2).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,2).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,2).documentMouseUp(t)&&e}return e},c,Tn)),pn._30(5120,null,Un.j,function(l){return[l]},[Mn]),pn._11(49152,null,0,Mn,[pn.m],null,null)],null,null)}function p(l){return pn._35(0,[],null,null)}function d(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"ui-treeview",[],null,null,null,p,zn)),pn._30(5120,null,Un.j,function(l){return[l]},[An]),pn._11(573440,null,0,An,[pn.J,pn.m],null,null)],null,null)}function g(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),pn._33(null,["Action"]))],null,null)}function h(l){return pn._35(0,[(l()(),pn._13(0,null,null,4,"td",[],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,1,"button",[["class","btn btn-primary btn-xs"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.syncProd.emit(l.parent.context.$implicit.data_upload_id)&&e}return e},null,null)),(l()(),pn._33(null,["\n          Update Prod\n        "])),(l()(),pn._33(null,["\n      "]))],null,null)}function f(l){return pn._35(0,[(l()(),pn._13(0,null,null,20,"tr",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,2,"td",[],null,null,null,null,null)),(l()(),pn._13(0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.select.emit(l.context.$implicit.data_upload_id)&&e}return e},null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,h)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n    "]))],function(l,n){l(n,19,0,-1!==n.component.sharedService.get("userRoles").indexOf("manager"))},function(l,n){l(n,4,0,n.context.$implicit.sponsor_code),l(n,7,0,n.context.$implicit.funding_year),l(n,10,0,n.context.$implicit.type),l(n,13,0,n.context.$implicit.received_date),l(n,16,0,n.context.$implicit.note)})}function m(l){return pn._35(0,[(l()(),pn._13(0,null,null,31,"table",[["class","table table-bordered table-striped table-hover"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,22,"thead",[],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),pn._33(null,["Sponsor Code"])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),pn._33(null,["Funding Years"])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),pn._33(null,["Type"])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),pn._33(null,["Workbook Received Date"])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),pn._33(null,["Note"])),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,g)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,f)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,22,0,-1!==t.sharedService.get("userRoles").indexOf("manager")),l(n,29,0,t.uploads)},null)}function y(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-review-uploads-table",[],null,null,null,m,Hn)),pn._11(49152,null,0,qn,[Yn,mn],null,null)],null,null)}function v(l){return pn._35(0,[(l()(),pn._13(0,null,null,0,"div",[["class","rotate-45"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(l,n){l(n,0,0,"\u25e5")})}function b(l){return pn._35(0,[(l()(),pn._13(0,null,null,0,"div",[["class","rotate-45"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(l,n){l(n,0,0,"\u25e2")})}function C(l){return pn._35(0,[(l()(),pn._13(0,null,null,3,"div",[["class","content"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),pn._25(null,2),(l()(),pn._33(null,["\n"]))],null,null)}function x(l){return pn._35(0,[(l()(),pn._33(null,["\n"])),(l()(),pn._13(0,null,null,20,"div",[["class","title clearfix"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==(u.toggleEnabled&&(u.showSummary=!u.showSummary))&&e}return e},null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,7,"span",[["class","pull-left"],["style","margin-right: 6px"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,v)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,b)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,3,"span",[["class","pull-left"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),pn._25(null,0),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,3,"div",[["class","pull-right"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),pn._25(null,1),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n\n"])),(l()(),pn._7(16777216,null,null,1,null,C)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,6,0,!t.showSummary),l(n,9,0,t.showSummary),l(n,24,0,t.showSummary)},null)}function P(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-summary-panel",[],null,null,null,x,nt)),pn._11(49152,null,0,Zn,[],null,null)],null,null)}function w(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"span",[["class","bold orange"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      Data Upload for Funding Sponsor ",",\n      Funding Years ","\n      ","\n    "]))],null,function(l,n){var t=n.component;l(n,1,0,t.currentSponsor&&t.currentSponsor.sponsor_code,t.currentSponsor&&t.currentSponsor.funding_year,t.currentSponsor.type&&"("+t.currentSponsor.type+")")})}function S(l){return pn._35(0,[(l()(),pn._13(16777216,null,null,2,"span",[["tooltip","Including linked sub-projects or supplements"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n        / Total Related Projects: ","\n      "])),(l()(),pn._7(0,null,null,0))],function(l,n){l(n,1,0,"Including linked sub-projects or supplements")},function(l,n){l(n,2,0,n.component.relatedProjectCount.toLocaleString())})}function I(l){return pn._35(0,[(l()(),pn._13(0,null,null,8,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(16777216,null,null,2,"span",[["tooltip","Parent projects"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n        Total Projects: ","\n      "])),(l()(),pn._33(null,["\n\n      "])),(l()(),pn._7(16777216,null,null,1,null,S)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n    "]))],function(l,n){var t=n.component;l(n,3,0,"Parent projects"),l(n,7,0,t.relatedProjectCount)},function(l,n){l(n,4,0,n.component.projectCount.toLocaleString())})}function j(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"label",[],null,null,null,null,null)),(l()(),pn._33(null,["\n        Summary counts of new projects and associated records loaded to ICRP staging\n      "]))],null,null)}function k(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"label",[],null,null,null,null,null)),(l()(),pn._33(null,["\n        Summary counts of existing projects and associated records updated in ICRP staging\n      "]))],null,null)}function O(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"li",[],null,null,null,null,null)),(l()(),pn._33(null,["\n        ",": ","\n      "]))],null,function(l,n){var t=n.component;l(n,1,0,t.mapKeys[n.context.$implicit],t.currentSponsor.counts[n.context.$implicit])})}function R(l){return pn._35(0,[(l()(),pn._13(0,null,null,17,"div",[["class","vertical-padding"]],null,null,null,null,null)),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,8,"span",[],null,null,null,null,null)),pn._11(16384,null,0,wn.i,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,j)),pn._11(278528,null,0,wn.j,[pn.U,pn.R,wn.i],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,k)),pn._11(278528,null,0,wn.j,[pn.U,pn.R,wn.i],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,4,"ul",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,O)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "]))],function(l,n){var t=n.component;l(n,3,0,t.currentSponsor.type);l(n,6,0,"NEW");l(n,9,0,"UPDATE"),l(n,15,0,t.keys)},null)}function M(l){return pn._35(0,[(l()(),pn._33(null,["\n\n"])),(l()(),pn._13(0,null,null,17,"icrp-summary-panel",[],null,null,null,x,nt)),pn._11(49152,null,0,Zn,[],null,null),(l()(),pn._33(2,["\n  "])),(l()(),pn._13(0,null,0,4,"div",[["left-header",""]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,w)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(2,["\n  "])),(l()(),pn._13(0,null,1,4,"div",[["class","bold blue"],["right-header",""]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,I)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(2,["\n  "])),(l()(),pn._7(16777216,null,2,1,null,R)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(2,["\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,7,0,t.currentSponsor,t.loading),l(n,13,0,t.projectCount),l(n,17,0,t.currentSponsor)},null)}function U(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-review-summary-panel",[],null,null,null,M,ut)),pn._11(49152,null,0,tt,[],null,null)],null,null)}function D(l){return pn._35(0,[(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,9,"div",[],[[24,"@isActive",0]],null,null,null,null)),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,6,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,3,"div",[["style","text-align: center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),pn._25(null,0),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._33(null,["\n"]))],null,function(l,n){var t=n.component;l(n,1,0,t.active.toString()),l(n,3,0,t.fullscreen?"loading-overlay-fullscreen":"loading-overlay")})}function T(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],null,null)],function(l,n){l(n,1,0)},null)}function E(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"p",[["style","color: grey"]],null,null,null,null,null)),(l()(),pn._13(0,null,null,1,"i",[],null,null,null,null,null)),(l()(),pn._33(null,["",""]))],null,function(l,n){l(n,2,0,n.component.description)})}function A(l){return pn._35(0,[pn._31(402653184,1,{svg:0}),pn._31(402653184,2,{tooltip:0}),(l()(),pn._13(0,null,null,19,"div",[["style","text-align: center; position: relative; "]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,1,"div",[["class","chart-label"]],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n  "])),(l()(),pn._7(16777216,null,null,1,null,E)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,10,"div",[["style","position: relative"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,5,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],{fullscreen:[0,"fullscreen"],active:[1,"active"]},null),(l()(),pn._33(0,["\n      "])),(l()(),pn._13(0,null,0,1,"i",[],null,null,null,null,null)),(l()(),pn._33(null,["Loading Chart..."])),(l()(),pn._33(0,["\n    "])),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,[[1,0],["svg",1]],null,0,":svg:svg",[],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n"])),(l()(),pn._13(0,[[2,0],["tooltip",1]],null,0,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,8,0,t.description);l(n,13,0,!1,!t.data||0===t.data.length)},function(l,n){l(n,5,0,n.component.label)})}function F(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"ui-chart",[],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],null,null)],null,null)}function z(l){return pn._35(0,[(l()(),pn._13(0,null,null,3,"option",[],null,null,null,null,null)),pn._11(147456,null,0,Un.o,[pn.m,pn.K,[2,Un.r]],{value:[0,"value"]},null),pn._11(147456,null,0,Un.w,[pn.m,pn.K,[8,null]],{value:[0,"value"]},null),(l()(),pn._33(null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.value),l(n,2,0,n.context.$implicit.value)},function(l,n){l(n,3,0,n.context.$implicit.label)})}function K(l){return pn._35(0,[(l()(),pn._13(0,null,null,14,"div",[],null,null,null,null,null)),pn._11(278528,null,0,wn.d,[pn.w,pn.x,pn.m,pn.J],{ngClass:[0,"ngClass"]},null),pn._28({disabled:0,"inline-block":1}),(l()(),pn._33(null,["\n      Use Currency Rates From\n      "])),(l()(),pn._13(0,null,null,9,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,t){var e=!0,u=l.component;if("change"===n){e=!1!==pn._26(l,5).onChange(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,5).onTouched()&&e}if("change"===n){e=!1!==u.updateFundingCharts()&&e}return e},null,null)),pn._11(16384,null,0,Un.r,[pn.K,pn.m],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.r]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n        "])),(l()(),pn._7(16777216,null,null,1,null,z)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "]))],function(l,n){var t=n.component;l(n,1,0,l(n,2,0,"project_counts"===t.form.controls.display_type.value,!0)),l(n,7,0,t.form.controls.conversion_year),l(n,12,0,t.fields.conversion_years)},function(l,n){l(n,4,0,pn._26(n,9).ngClassUntouched,pn._26(n,9).ngClassTouched,pn._26(n,9).ngClassPristine,pn._26(n,9).ngClassDirty,pn._26(n,9).ngClassValid,pn._26(n,9).ngClassInvalid,pn._26(n,9).ngClassPending)})}function V(l){return pn._35(0,[(l()(),pn._13(0,null,null,26,"div",[["class","chart-type-selector"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,9,"label",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,6,"input",[["name","display_type"],["type","radio"],["value","project_counts"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,t){var e=!0;if("input"===n){e=!1!==pn._26(l,5)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,5).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,5)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,5)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==pn._26(l,6).onChange()&&e}if("blur"===n){e=!1!==pn._26(l,6).onTouched()&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._11(212992,null,0,Un.p,[pn.K,pn.m,Un.v,pn.u],{name:[0,"name"],value:[1,"value"]},null),pn._30(1024,null,Un.j,function(l,n){return[l,n]},[Un.d,Un.p]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n      Project Counts\n    "])),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,9,"label",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,6,"input",[["name","display_type"],["type","radio"],["value","award_amounts"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,t){var e=!0;if("input"===n){e=!1!==pn._26(l,16)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,16).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,16)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,16)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==pn._26(l,17).onChange()&&e}if("blur"===n){e=!1!==pn._26(l,17).onTouched()&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._11(212992,null,0,Un.p,[pn.K,pn.m,Un.v,pn.u],{name:[0,"name"],value:[1,"value"]},null),pn._30(1024,null,Un.j,function(l,n){return[l,n]},[Un.d,Un.p]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n      Award Amounts (USD)\n    "])),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,K)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n  "]))],function(l,n){var t=n.component;l(n,6,0,"display_type","project_counts"),l(n,8,0,t.form.controls.display_type);l(n,17,0,"display_type","award_amounts"),l(n,19,0,t.form.controls.display_type),l(n,25,0,t.fields&&t.fields.conversion_years)},function(l,n){l(n,4,0,pn._26(n,10).ngClassUntouched,pn._26(n,10).ngClassTouched,pn._26(n,10).ngClassPristine,pn._26(n,10).ngClassDirty,pn._26(n,10).ngClassValid,pn._26(n,10).ngClassInvalid,pn._26(n,10).ngClassPending),l(n,15,0,pn._26(n,21).ngClassUntouched,pn._26(n,21).ngClassTouched,pn._26(n,21).ngClassPristine,pn._26(n,21).ngClassDirty,pn._26(n,21).ngClassValid,pn._26(n,21).ngClassInvalid,pn._26(n,21).ngClassPending)})}function J(l){return pn._35(0,[(l()(),pn._13(0,null,null,32,"div",[["class","row form-group"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,8,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n\n\n    "])),(l()(),pn._13(0,null,null,5,"div",[["style","position: relative"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Projects by Country"],["primaryKey","project_count"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,5,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Projects by CSO"],["primaryKey","relevance"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,5,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Projects by Cancer Type"],["primaryKey","relevance"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._13(0,null,null,5,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Projects by Type"],["primaryKey","project_count"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,7,0,"pie",t.analytics.project_counts_by_country&&t.analytics.project_counts_by_country.results,"Projects by Country","project_count");l(n,15,0,"pie",t.analytics.project_counts_by_cso_research_area&&t.analytics.project_counts_by_cso_research_area.results,"Projects by CSO","relevance");l(n,22,0,"pie",t.analytics.project_counts_by_cancer_type&&t.analytics.project_counts_by_cancer_type.results,"Projects by Cancer Type","relevance");l(n,29,0,"pie",t.analytics.project_counts_by_type&&t.analytics.project_counts_by_type.results,"Projects by Type","project_count")},null)}function L(l){return pn._35(0,[(l()(),pn._13(0,null,null,32,"div",[["class","row form-group"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,8,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,5,"div",[["style","position: relative"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Amounts by Country"],["primaryKey","funding_amount"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,5,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Amounts by CSO"],["primaryKey","funding_amount"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,5,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Amounts by Cancer Type"],["primaryKey","funding_amount"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._13(0,null,null,5,"div",[["class","col-sm-6 col-md-3 text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Amounts by Project Type"],["primaryKey","funding_amount"],["type","pie"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,7,0,"pie",t.analytics.project_funding_amounts_by_country&&(null==t.analytics.project_funding_amounts_by_country?null:t.analytics.project_funding_amounts_by_country.results),"Amounts by Country","funding_amount");l(n,15,0,"pie",t.analytics.project_funding_amounts_by_cso_research_area&&(null==t.analytics.project_funding_amounts_by_cso_research_area?null:t.analytics.project_funding_amounts_by_cso_research_area.results),"Amounts by CSO","funding_amount");l(n,22,0,"pie",t.analytics.project_funding_amounts_by_cancer_type&&(null==t.analytics.project_funding_amounts_by_cancer_type?null:t.analytics.project_funding_amounts_by_cancer_type.results),"Amounts by Cancer Type","funding_amount");l(n,29,0,"pie",t.analytics.project_funding_amounts_by_type&&(null==t.analytics.project_funding_amounts_by_type?null:t.analytics.project_funding_amounts_by_type.results),"Amounts by Project Type","funding_amount")},null)}function N(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Project Counts by Year"],["primaryKey","project_count"],["tooltipDescriptor","Projects"],["type","line"],["xAxisLabel","Year"],["yAxisLabel","Project Counts"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"],xAxisLabel:[4,"xAxisLabel"],yAxisLabel:[5,"yAxisLabel"],tooltipDescriptor:[6,"tooltipDescriptor"]},null),(l()(),pn._33(null,["\n    "]))],function(l,n){var t=n.component;l(n,1,0,"line",t.analytics.project_counts_by_year&&t.analytics.project_counts_by_year.results,"Project Counts by Year","project_count","Year","Project Counts","Projects")},null)}function Y(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"ui-chart",[["label","Amounts by Year"],["primaryKey","funding_amount"],["tooltipDescriptor","USD"],["type","line"],["xAxisLabel","Year"],["yAxisLabel","Amount (USD)"]],null,null,null,A,ft)),pn._11(4767744,null,0,gt,[],{type:[0,"type"],data:[1,"data"],label:[2,"label"],primaryKey:[3,"primaryKey"],xAxisLabel:[4,"xAxisLabel"],yAxisLabel:[5,"yAxisLabel"],tooltipDescriptor:[6,"tooltipDescriptor"]},null),(l()(),pn._33(null,["\n    "]))],function(l,n){var t=n.component;l(n,1,0,"line",t.analytics.project_funding_amounts_by_year&&t.analytics.project_funding_amounts_by_year.results,"Amounts by Year","funding_amount","Year","Amount (USD)","USD")},null)}function q(l){return pn._35(0,[(l()(),pn._13(0,null,null,16,"div",[["class","form-group clearfix"]],null,null,null,null,null)),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,7,"div",[["class","clearfix"]],[[8,"hidden",0]],null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,N)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,Y)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"button",[["class","btn btn-primary btn-xs text-center"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!=(u.showMore=!u.showMore)&&e}return e},null,null)),(l()(),pn._33(null,["Show ",""])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n"]))],function(l,n){var t=n.component;l(n,5,0,"project_counts"===t.form.controls.display_type.value),l(n,8,0,"award_amounts"===t.form.controls.display_type.value)},function(l,n){var t=n.component;l(n,2,0,!t.showMore),l(n,14,0,t.showMore?"Less":"More")})}function $(l){return pn._35(0,[(l()(),pn._13(0,null,null,8,"form",[["class","text-center"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;if("submit"===n){e=!1!==pn._26(l,2).onSubmit(t)&&e}if("reset"===n){e=!1!==pn._26(l,2).onReset()&&e}return e},null,null)),pn._11(16384,null,0,Un.u,[],null,null),pn._11(540672,null,0,Un.h,[[8,null],[8,null]],{form:[0,"form"]},null),pn._30(2048,null,Un.c,null,[Un.h]),pn._11(16384,null,0,Un.m,[Un.c],null,null),(l()(),pn._33(null,["\n  "])),(l()(),pn._7(16777216,null,null,1,null,V)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n\n\n"])),(l()(),pn._7(16777216,null,null,1,null,J)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n"])),(l()(),pn._7(16777216,null,null,1,null,L)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n\n"])),(l()(),pn._7(16777216,null,null,1,null,q)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n\n"]))],function(l,n){var t=n.component;l(n,2,0,t.form),l(n,7,0,t.sharedService.get("authenticated")),l(n,11,0,"project_counts"===t.form.controls.display_type.value),l(n,14,0,"award_amounts"===t.form.controls.display_type.value),l(n,17,0,t.sharedService.get("authenticated"))},function(l,n){l(n,0,0,pn._26(n,4).ngClassUntouched,pn._26(n,4).ngClassTouched,pn._26(n,4).ngClassPristine,pn._26(n,4).ngClassDirty,pn._26(n,4).ngClassValid,pn._26(n,4).ngClassInvalid,pn._26(n,4).ngClassPending)})}function H(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-charts-panel",[],null,null,null,$,vt)),pn._11(573440,null,0,mt,[mn,Un.e],null,null)],null,null)}function B(l){return pn._35(0,[(l()(),pn._13(0,null,null,7,"div",[["class","select-label default"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,1,"div",[],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.removeSelectedItem(l.context.index)&&e}return e},null,null)),(l()(),pn._33(null,["\u2715"])),(l()(),pn._33(null,["\n    "]))],null,function(l,n){l(n,3,0,n.context.$implicit)})}function W(l){return pn._35(0,[pn._31(402653184,1,{input:0}),(l()(),pn._13(0,null,null,12,"div",[["class","select-container default"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,9,"div",[["class","select-input-container default"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,B)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,3,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,[[1,0],["input",1]],null,0,"input",[["class","select-input default"],["type","text"]],[[8,"placeholder",0]],[[null,"keydown"],[null,"keyup"],[null,"blur"]],function(l,n,t){var e=!0,u=l.component;if("keydown"===n){e=!1!==u.handleKeyDownEvent(t)&&e}if("keyup"===n){e=!1!==u.handleKeyUpEvent(t)&&e}if("blur"===n){e=!1!==u.addValueToSelection()&&e}return e},null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){l(n,6,0,n.component.selectedItems)},function(l,n){var t=n.component;l(n,10,0,t.selectedItems.length?"":t.placeholder)})}function X(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"ui-simple-select",[],null,[["document","click"]],function(l,n,t){var e=!0;if("document:click"===n){e=!1!==pn._26(l,2).focusInput(t)&&e}return e},W,St)),pn._30(5120,null,Un.j,function(l){return[l]},[Pt]),pn._11(49152,null,0,Pt,[pn.m],null,null)],null,null)}function G(l){return pn._35(0,[pn._31(402653184,1,{container:0}),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,[[1,0],["container",1]],null,0,"div",[["style","margin-right: 4px; padding-top: 4px;"]],null,null,null,null,null)),(l()(),pn._33(null,["\n"]))],null,null)}function Q(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"ui-icon",[],null,null,null,G,Rt)),pn._11(4767744,null,0,kt,[],null,null)],null,null)}function Z(l){return pn._35(0,[(l()(),pn._13(0,null,null,14,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),pn._33(null,["\n          "])),(l()(),pn._13(0,null,null,11,"div",[["style","position: relative; min-height: 40px"]],null,null,null,null,null)),(l()(),pn._33(null,["\n            "])),(l()(),pn._13(0,null,null,8,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],null,null),(l()(),pn._33(0,["\n              "])),(l()(),pn._13(0,null,0,1,"ui-spinner",[],null,null,null,u,kn)),pn._11(4767744,null,0,In,[Sn],null,null),(l()(),pn._33(0,["\n              "])),(l()(),pn._13(0,null,0,1,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["Sending Email"])),(l()(),pn._33(0,["\n            "])),(l()(),pn._33(null,["\n          "])),(l()(),pn._33(null,["\n        "]))],function(l,n){l(n,5,0)},null)}function ll(l){return pn._35(0,[(l()(),pn._13(0,null,null,63,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,1,"label",[["class","form-group"]],null,null,null,null,null)),(l()(),pn._33(null,["Complete the form below to email a link to your search results to yourself, a friend, or colleague."])),(l()(),pn._33(null,["\n\n\n    \t\t"])),(l()(),pn._13(0,null,null,54,"form",[["class","form-horizontal clearfix"],["novalidate",""],["style","position: relative"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;if("submit"===n){e=!1!==pn._26(l,7).onSubmit(t)&&e}if("reset"===n){e=!1!==pn._26(l,7).onReset()&&e}return e},null,null)),pn._11(16384,null,0,Un.u,[],null,null),pn._11(540672,null,0,Un.h,[[8,null],[8,null]],{form:[0,"form"]},null),pn._30(2048,null,Un.c,null,[Un.h]),pn._11(16384,null,0,Un.m,[Un.c],null,null),(l()(),pn._33(null,["\n          "])),(l()(),pn._13(0,null,null,14,"div",[["class","row form-group"]],null,null,null,null,null)),(l()(),pn._33(null,["\n            "])),(l()(),pn._13(0,null,null,1,"label",[["class","col-sm-3 control-label"],["for","name"]],null,null,null,null,null)),(l()(),pn._33(null,["Your Name"])),(l()(),pn._33(null,["\n            "])),(l()(),pn._13(0,null,null,8,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),pn._33(null,["\n              "])),(l()(),pn._13(0,null,null,5,"input",[["class","input"],["id","name"],["placeholder","Your Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0;if("input"===n){e=!1!==pn._26(l,19)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,19).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,19)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,19)._compositionEnd(t.target.value)&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n            "])),(l()(),pn._33(null,["\n          "])),(l()(),pn._33(null,["\n\n          "])),(l()(),pn._13(0,null,null,15,"div",[["class","row form-group"]],null,null,null,null,null)),(l()(),pn._33(null,["\n            "])),(l()(),pn._13(0,null,null,1,"label",[["class","col-sm-3 control-label"],["for","recipient_emails"]],null,null,null,null,null)),(l()(),pn._33(null,["Recipient Emails(s)"])),(l()(),pn._33(null,["\n            "])),(l()(),pn._13(0,null,null,9,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),pn._33(null,["\n\n              "])),(l()(),pn._13(0,null,null,6,"ui-simple-select",[["id","recipientEmails"],["placeholder","Enter multiple email recipients, separated by commas"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[["document","click"]],function(l,n,t){var e=!0;if("document:click"===n){e=!1!==pn._26(l,35).focusInput(t)&&e}return e},W,St)),pn._11(49152,null,0,Pt,[pn.m],{placeholder:[0,"placeholder"]},null),pn._30(1024,null,Un.j,function(l){return[l]},[Pt]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n              "])),(l()(),pn._33(null,["\n\n            "])),(l()(),pn._33(null,["\n          "])),(l()(),pn._33(null,["\n\n          "])),(l()(),pn._13(0,null,null,14,"div",[["class","row form-group"]],null,null,null,null,null)),(l()(),pn._33(null,["\n            "])),(l()(),pn._13(0,null,null,1,"label",[["class","col-sm-3 control-label"],["for","personal_message"]],null,null,null,null,null)),(l()(),pn._33(null,["Personal Message"])),(l()(),pn._33(null,["\n            "])),(l()(),pn._13(0,null,null,8,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),pn._33(null,["\n              "])),(l()(),pn._13(0,null,null,5,"input",[["class","input"],["id","personalMessage"],["placeholder","Personal Message"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0;if("input"===n){e=!1!==pn._26(l,52)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,52).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,52)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,52)._compositionEnd(t.target.value)&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n            "])),(l()(),pn._33(null,["\n          "])),(l()(),pn._33(null,["\n    \t\t"])),(l()(),pn._33(null,["\n\n\n        "])),(l()(),pn._7(16777216,null,null,1,null,Z)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n      "]))],function(l,n){var t=n.component;l(n,7,0,t.emailForm),l(n,21,0,t.emailForm.controls.sender_name);l(n,35,0,"Enter multiple email recipients, separated by commas"),l(n,37,0,t.emailForm.controls.recipient_addresses),l(n,54,0,t.emailForm.controls.personal_message),l(n,62,0,t.state.pending)},function(l,n){l(n,5,0,pn._26(n,9).ngClassUntouched,pn._26(n,9).ngClassTouched,pn._26(n,9).ngClassPristine,pn._26(n,9).ngClassDirty,pn._26(n,9).ngClassValid,pn._26(n,9).ngClassInvalid,pn._26(n,9).ngClassPending),l(n,18,0,pn._26(n,23).ngClassUntouched,pn._26(n,23).ngClassTouched,pn._26(n,23).ngClassPristine,pn._26(n,23).ngClassDirty,pn._26(n,23).ngClassValid,pn._26(n,23).ngClassInvalid,pn._26(n,23).ngClassPending),l(n,34,0,pn._26(n,39).ngClassUntouched,pn._26(n,39).ngClassTouched,pn._26(n,39).ngClassPristine,pn._26(n,39).ngClassDirty,pn._26(n,39).ngClassValid,pn._26(n,39).ngClassInvalid,pn._26(n,39).ngClassPending),l(n,51,0,pn._26(n,56).ngClassUntouched,pn._26(n,56).ngClassTouched,pn._26(n,56).ngClassPristine,pn._26(n,56).ngClassDirty,pn._26(n,56).ngClassValid,pn._26(n,56).ngClassInvalid,pn._26(n,56).ngClassPending)})}function nl(l){return pn._35(0,[(l()(),pn._13(0,null,null,14,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,11,"div",[["style","position: relative; min-height: 40px"]],null,null,null,null,null)),(l()(),pn._33(null,["\n          "])),(l()(),pn._13(0,null,null,8,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],null,null),(l()(),pn._33(0,["\n            "])),(l()(),pn._13(0,null,0,1,"ui-icon",[["type","check"]],null,null,null,G,Rt)),pn._11(4767744,null,0,kt,[],{type:[0,"type"]},null),(l()(),pn._33(0,["\n            "])),(l()(),pn._13(0,null,0,1,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["Your email has been sent successfully!"])),(l()(),pn._33(0,["\n          "])),(l()(),pn._33(null,["\n        "])),(l()(),pn._33(null,["\n      "]))],function(l,n){l(n,5,0);l(n,8,0,"check")},null)}function tl(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.sendEmail()&&e}return e},null,null)),(l()(),pn._33(null,["Send Email"]))],null,function(l,n){l(n,0,0,!n.component.emailForm.valid)})}function el(l){return pn._35(0,[pn._31(402653184,1,{emailResultsModal:0}),(l()(),pn._13(0,null,null,10,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==pn._26(l,14).show()&&e}return e},null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,7,"div",[["class","flex"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"ui-icon",[["type","mail"]],null,null,null,G,Rt)),pn._11(4767744,null,0,kt,[],{type:[0,"type"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"span",[],null,null,null,null,null)),(l()(),pn._33(null,["Email Results"])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n\n\n"])),(l()(),pn._13(16777216,null,null,36,"div",[["aria-hidden","true"],["aria-labelledby","EmailResults"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==pn._26(l,14).onClick(t)&&e}if("keydown.esc"===n){e=!1!==pn._26(l,14).onEsc()&&e}return e},null,null)),pn._11(4341760,[[1,4],["emailResultsModal",4]],0,Mt.a,[pn.m,pn.U,pn.J,Xn.a],{config:[0,"config"]},null),pn._28({backdrop:0}),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,31,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,28,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(l()(),pn._33(null,["Email Search Results"])),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,4,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.closeModal()&&e}return e},null,null)),(l()(),pn._33(null,["\n          "])),(l()(),pn._13(0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),pn._33(null,["\xd7"])),(l()(),pn._33(null,["\n        "])),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n\n\n      "])),(l()(),pn._7(16777216,null,null,1,null,ll)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n      "])),(l()(),pn._7(16777216,null,null,1,null,nl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n      "])),(l()(),pn._13(0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.closeModal()&&e}return e},null,null)),(l()(),pn._33(null,["Close"])),(l()(),pn._33(null,["\n        "])),(l()(),pn._7(16777216,null,null,1,null,tl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,6,0,"mail"),l(n,14,0,l(n,15,0,"static")),l(n,34,0,t.state.initial),l(n,37,0,t.state.success),l(n,45,0,t.state.initial)},null)}function ul(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-email-results-button",[],null,null,null,el,Et)),pn._11(49152,null,0,Dt,[mn,Ut,Un.e],null,null)],null,null)}function il(l){return pn._35(0,[(l()(),pn._13(0,null,null,10,"div",[["style","position: absolute"]],null,null,null,null,null)),(l()(),pn._33(null,["\n"])),(l()(),pn._13(0,null,null,7,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],{fullscreen:[0,"fullscreen"],active:[1,"active"]},null),(l()(),pn._33(0,["\n  "])),(l()(),pn._13(0,null,0,1,"ui-spinner",[],null,null,null,u,kn)),pn._11(4767744,null,0,In,[Sn],null,null),(l()(),pn._33(0,["\n  "])),(l()(),pn._13(0,null,0,0,"br",[],null,null,null,null,null)),(l()(),pn._33(0,["Fetching Data Export\n"])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n\n"])),(l()(),pn._13(0,null,null,10,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.export()&&e}return e},null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,7,"div",[["class","flex"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"ui-icon",[["type","desktop-download"]],null,null,null,G,Rt)),pn._11(4767744,null,0,kt,[],{type:[0,"type"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"span",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){l(n,3,0,!0,n.component.loading);l(n,17,0,"desktop-download")},function(l,n){l(n,20,0,n.component.label)})}function ol(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-export-button",[],null,null,null,il,Kt)),pn._11(49152,null,0,Ft,[Ut,mn],null,null)],null,null)}function rl(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"icrp-email-results-button",[],null,null,null,el,Et)),pn._11(49152,null,0,Dt,[mn,Ut,Un.e],null,null),(l()(),pn._33(null,["\n    "]))],null,null)}function al(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"icrp-export-button",[["label","Export Single"]],null,null,null,il,Kt)),pn._11(49152,null,0,Ft,[Ut,mn],{label:[0,"label"],endpoint:[1,"endpoint"]},null),(l()(),pn._33(null,["\n    "]))],function(l,n){l(n,1,0,"Export Single",n.component.getRoutes().exportResultsSingle)},null)}function sl(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"icrp-export-button",[["label","Export Abstracts"]],null,null,null,il,Kt)),pn._11(49152,null,0,Ft,[Ut,mn],{label:[0,"label"],endpoint:[1,"endpoint"]},null),(l()(),pn._33(null,["\n    "]))],function(l,n){l(n,1,0,"Export Abstracts",n.component.getRoutes().exportAbstracts)},null)}function cl(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"icrp-export-button",[["label","Export Abstracts Single"]],null,null,null,il,Kt)),pn._11(49152,null,0,Ft,[Ut,mn],{label:[0,"label"],endpoint:[1,"endpoint"]},null),(l()(),pn._33(null,["\n    "]))],function(l,n){l(n,1,0,"Export Abstracts Single",n.component.getRoutes().exportAbstractsSingle)},null)}function _l(l){return pn._35(0,[(l()(),pn._13(0,null,null,4,"span",[],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),pn._33(null,["View ICRP Map"])),(l()(),pn._33(null,["\n  "]))],null,function(l,n){l(n,2,0,"/map/?sid="+n.component.sharedService.get("searchID"))})}function pl(l){return pn._35(0,[(l()(),pn._13(0,null,null,27,"div",[["class","margin-bottom button-panel"]],null,null,null,null,null)),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,21,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,rl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,2,"icrp-export-button",[["label","Export Results"]],null,null,null,il,Kt)),pn._11(49152,null,0,Ft,[Ut,mn],{label:[0,"label"],endpoint:[1,"endpoint"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,al)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,sl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,cl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,2,"icrp-export-button",[["label","Export Graphs"]],null,null,null,il,Kt)),pn._11(49152,null,0,Ft,[Ut,mn],{label:[0,"label"],endpoint:[1,"endpoint"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._7(16777216,null,null,1,null,_l)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n\n"]))],function(l,n){var t=n.component;l(n,5,0,"search"===t.sharedService.get("componentType"));l(n,8,0,"Export Results",t.getRoutes().exportResults),l(n,12,0,t.authenticated),l(n,15,0,t.authenticated),l(n,18,0,t.authenticated);l(n,21,0,"Export Graphs",t.getRoutes().exportGraphs),l(n,26,0,"search"===t.sharedService.get("componentType"))},null)}function dl(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-export-buttons-panel",[],null,null,null,pl,Lt)),pn._11(49152,null,0,Vt,[mn],null,null)],null,null)}function gl(l,n){for(var t in n)t&&n[t]&&(l.style[t]=n[t])}function hl(){var l=document.createElement("div");return gl(l,{position:"absolute",width:"7px",marginLeft:"-2px",zIndex:"2",cursor:"ew-resize"}),l}function fl(l,n){for(var t=n.children,e=l.tHead.children[0].children,u=0;u<e.length-1;u++){var i=e[u];gl(t[u]||n.appendChild(hl()),{left:i.offsetLeft+i.clientWidth+"px",height:l.clientHeight+"px"})}n.style.width=l.clientWidth+"px"}function ml(l,n){gl(l,{width:n+"px",maxWidth:n+"px",minWidth:n+"px"})}function yl(l,n,t){ml(l.tHead.children[0].children[n],t);var e=l.tBodies[0].children;Array.from(e).forEach(function(l){return ml(l.children[n],t)})}function vl(l){for(var n=l.tHead.children[0].children,t=0;t<n.length;t++)yl(l,t,n[t].clientWidth+1)}function bl(l){vl(l);var n={resizing:!1,initial:{cursorOffset:null,leftColumnIndex:null,leftCellWidth:null,rightCellWidth:null}},t=document.getElementById("table-resize-overlay")||document.createElement("div");t.innerHTML="",t.id="table-resize-overlay",l.parentElement.insertBefore(t,l),gl(t,{position:"relative",width:l.clientWidth+"px"}),fl(l,t);var e=function(t){t.preventDefault();var e=t.target,u=+e.dataset.index,i=l.tHead.children[0].children[u],o=l.tHead.children[0].children[u+1],r=+e.dataset.index,a=i.clientWidth,s=o.clientWidth;n={resizing:!0,initial:{cursorOffset:t.pageX,leftColumnIndex:r,leftCellWidth:a,rightCellWidth:s}}};document.onmousemove=function(e){if(n.resizing){var u=e.pageX-n.initial.cursorOffset,i=n.initial.leftColumnIndex,o=n.initial.leftCellWidth+u+1,r=n.initial.rightCellWidth-u+1;o>15&&r>15&&(yl(l,i,o),yl(l,i+1,r)),fl(l,t)}},document.onmouseup=function(){return n.resizing=!1};for(var u=0;u<t.children.length;u++)t.children[u].dataset.index=u.toString(),t.children[u].onmousedown=e}function Cl(l){return pn._35(0,[(l()(),pn._13(0,null,null,0,"div",[["class","rotate-45"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(l,n){l(n,0,0,"\u25e4")})}function xl(l){return pn._35(0,[(l()(),pn._13(0,null,null,0,"div",[["class","rotate-45"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(l,n){l(n,0,0,"\u25e2")})}function Pl(l){return pn._35(0,[(l()(),pn._13(0,null,null,15,"th",[],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.toggleSort(l.context.$implicit)&&e}return e},null,null)),(l()(),pn._33(null,["\n          "])),(l()(),pn._13(16777216,null,null,12,"div",[["style","display: flex; justify-content: space-between"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n            ","\n            "])),(l()(),pn._13(0,null,null,8,"span",[],null,null,null,null,null)),pn._11(16384,null,0,wn.i,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),pn._33(null,["\n              "])),(l()(),pn._7(16777216,null,null,1,null,Cl)),pn._11(278528,null,0,wn.j,[pn.U,pn.R,wn.i],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),pn._33(null,["\n              "])),(l()(),pn._7(16777216,null,null,1,null,xl)),pn._11(278528,null,0,wn.j,[pn.U,pn.R,wn.i],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),pn._33(null,["\n            "])),(l()(),pn._33(null,["\n          "])),(l()(),pn._33(null,["\n        "]))],function(l,n){l(n,3,0,n.context.$implicit.tooltip),l(n,6,0,n.context.$implicit.sort);l(n,9,0,"asc");l(n,12,0,"desc")},function(l,n){l(n,4,0,n.context.$implicit.label)})}function wl(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"span",[],null,null,null,null,null)),(l()(),pn._33(null,["\n            ","\n          "]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit[n.parent.context.$implicit.key])})}function Sl(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),pn._33(null,["\n            ","\n          "]))],null,function(l,n){l(n,0,0,n.parent.parent.context.$implicit[n.parent.context.$implicit.link]),l(n,1,0,n.parent.parent.context.$implicit[n.parent.context.$implicit.key])})}function Il(l){return pn._35(0,[(l()(),pn._13(0,null,null,7,"td",[],null,null,null,null,null)),(l()(),pn._33(null,["\n          "])),(l()(),pn._7(16777216,null,null,1,null,wl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n          "])),(l()(),pn._7(16777216,null,null,1,null,Sl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n        "]))],function(l,n){l(n,3,0,!n.context.$implicit.link),l(n,6,0,n.context.$implicit.link)},null)}function jl(l){return pn._35(0,[(l()(),pn._13(0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._7(16777216,null,null,1,null,Il)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n      "]))],function(l,n){l(n,3,0,n.component.headers)},null)}function kl(l){return pn._35(0,[(l()(),pn._13(0,null,null,3,"option",[],null,null,null,null,null)),pn._11(147456,null,0,Un.o,[pn.m,pn.K,[8,null]],{value:[0,"value"]},null),pn._11(147456,null,0,Un.w,[pn.m,pn.K,[8,null]],{value:[0,"value"]},null),(l()(),pn._33(null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Ol(l){return pn._35(0,[(l()(),pn._13(0,null,null,22,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,9,"div",[["class","pull-left"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,6,"pagination",[["class","pagination-sm"],["firstText","\xab"],["lastText","\xbb"],["nextText","\u203a"],["previousText","\u2039"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"pageChanged"]],function(l,n,t){var e=!0,u=l.component;if("ngModelChange"===n){e=!1!==(u.pagingModel=t)&&e}if("pageChanged"===n){e=!1!==u.setCurrentPage(t)&&e}return e},qt.b,qt.a)),pn._11(114688,null,0,$t.a,[pn.J,pn.m,Ht.a],{maxSize:[0,"maxSize"],boundaryLinks:[1,"boundaryLinks"],firstText:[2,"firstText"],previousText:[3,"previousText"],nextText:[4,"nextText"],lastText:[5,"lastText"],itemsPerPage:[6,"itemsPerPage"],totalItems:[7,"totalItems"]},{pageChanged:"pageChanged"}),pn._30(1024,null,Un.j,function(l){return[l]},[$t.a]),pn._11(671744,null,0,Un.n,[[8,null],[8,null],[8,null],[2,Un.j]],{model:[0,"model"]},{update:"ngModelChange"}),pn._30(2048,null,Un.k,null,[Un.n]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._13(0,null,null,8,"div",[["class","pull-right pagination"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    Show\n    "])),(l()(),pn._13(0,[["p",1]],null,4,"select",[],null,[[null,"change"]],function(l,n,t){var e=!0,u=l.component;if("change"===n){e=!1!==u.setPageSize(pn._26(l,15).value)&&e}return e},null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,kl)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n    entries of ","\n  "])),pn._29(1),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,5,0,5,!0,"\xab","\u2039","\u203a","\xbb",t.pageSize,t.numResults),l(n,7,0,t.pagingModel),l(n,18,0,t.pageSizes)},function(l,n){var t=n.component;l(n,4,0,pn._26(n,9).ngClassUntouched,pn._26(n,9).ngClassTouched,pn._26(n,9).ngClassPristine,pn._26(n,9).ngClassDirty,pn._26(n,9).ngClassValid,pn._26(n,9).ngClassInvalid,pn._26(n,9).ngClassPending),l(n,20,0,pn._34(n,20,0,l(n,21,0,pn._26(n.parent,0),t.numResults)))})}function Rl(l){return pn._35(0,[pn._27(0,wn.c,[pn.y]),pn._31(402653184,1,{table:0}),(l()(),pn._13(0,[["tablediv",1]],null,19,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,[[1,0],["table",1]],null,16,"table",[["class","table table-bordered table-striped table-hover table-nowrap"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,7,"thead",[["class","noselect"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._7(16777216,null,null,1,null,Pl)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,jl)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n\n\n\n"])),(l()(),pn._7(16777216,null,null,1,null,Ol)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,11,0,t.headers),l(n,18,0,t.data),l(n,24,0,t.data&&t.data.length>0)},null)}function Ml(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"ui-table",[],null,null,null,Rl,Xt)),pn._11(573440,null,0,Bt,[],null,null)],null,null)}function Ul(l){return pn._35(0,[(l()(),pn._13(0,null,null,14,"div",[["style","position: relative"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,7,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],{active:[0,"active"]},null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(0,null,0,1,"ui-spinner",[],null,null,null,u,kn)),pn._11(4767744,null,0,In,[Sn],null,null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(0,null,0,0,"br",[],null,null,null,null,null)),(l()(),pn._33(0,["Fetching Data\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,2,"ui-table",[],null,[[null,"sort"],[null,"paginate"]],function(l,n,t){var e=!0,u=l.component;if("sort"===n){e=!1!==u.sortPaginate(t)&&e}if("paginate"===n){e=!1!==u.sortPaginate(t)&&e}return e},Rl,Xt)),pn._11(573440,null,0,Bt,[],{headers:[0,"headers"],data:[1,"data"],numResults:[2,"numResults"],loading:[3,"loading"]},{sort:"sort",paginate:"paginate"}),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,3,0,t.loading),l(n,12,0,t.headers,t.results,t.numResults,t.loading)},null)}function Dl(l){return pn._35(0,[(l()(),pn._7(16777216,null,null,1,null,Ul)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,1,0,t.results&&t.results.length)},null)}function Tl(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-results-table-panel",[],null,null,null,Dl,Zt)),pn._11(49152,null,0,Gt,[],null,null)],null,null)}function El(l){return pn._35(0,[(l()(),pn._13(0,null,null,4,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n  There are currently no submitted workbooks pending for review. Go to "])),(l()(),pn._13(0,null,null,1,"a",[["href","/uploadStatusReport"]],null,null,null,null,null)),(l()(),pn._33(null,["Data Upload Status Report"])),(l()(),pn._33(null,["  to view the Information about the status of data submissions and uploads to the ICRP database.\n"]))],null,null)}function Al(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"alert",[["dismissible","true"]],null,null,null,xn.c,xn.b)),pn._11(114688,null,0,Jn.a,[Ln.a],{type:[0,"type"],dismissible:[1,"dismissible"]},null),(l()(),pn._33(0,["\n  ","\n"]))],function(l,n){l(n,1,0,n.component.success?"success":"danger","true")},function(l,n){l(n,2,0,n.component.success?"Congratulations! The selected partner data book has been successfully loaded into the production database.":"Internal error. The operation is aborted.")})}function Fl(l){return pn._35(0,[(l()(),pn._13(0,null,null,28,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    The following submitted workbooks have been uploaded to the staging website. Please select the relevant Sponsor Code to review\n  your data and contact us by email to identify any problems or to approve your data to go live.\n  "])),(l()(),pn._33(null,["\n\n\n\n  "])),(l()(),pn._13(0,null,null,2,"icrp-review-uploads-table",[],null,[[null,"select"],[null,"syncProd"]],function(l,n,t){var e=!0,u=l.component;if("select"===n){e=!1!==u.selectUploadID(t)&&e}if("syncProd"===n){e=!1!==u.syncProd(t)&&e}return e},m,Hn)),pn._11(49152,null,0,qn,[Yn,mn],{uploads:[0,"uploads"]},{select:"select",syncProd:"syncProd"}),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,2,"icrp-review-summary-panel",[],null,null,null,M,ut)),pn._11(49152,null,0,tt,[],{analytics:[0,"analytics"],currentSponsor:[1,"currentSponsor"],projectCount:[2,"projectCount"],relatedProjectCount:[3,"relatedProjectCount"],loading:[4,"loading"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,0,"br",[],null,null,null,null,null)),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,2,"icrp-charts-panel",[],null,[[null,"requestChart"]],function(l,n,t){var e=!0,u=l.component;if("requestChart"===n){e=!1!==u.getAnalytics(u.searchID,[t.type],t.year)&&e}return e},$,vt)),pn._11(573440,null,0,mt,[mn,Un.e],{analytics:[0,"analytics"],fields:[1,"fields"]},{requestChart:"requestChart"}),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,0,"br",[],null,null,null,null,null)),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,2,"icrp-export-buttons-panel",[],null,null,null,pl,Lt)),pn._11(49152,null,0,Vt,[mn],{authenticated:[0,"authenticated"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._13(0,null,null,2,"icrp-results-table-panel",[],null,[[null,"sortPaginate"]],function(l,n,t){var e=!0,u=l.component;if("sortPaginate"===n){e=!1!==u.sortPaginate(t)&&e}return e},Dl,Zt)),pn._11(49152,null,0,Gt,[],{results:[0,"results"],numResults:[1,"numResults"],loading:[2,"loading"]},{sortPaginateEmitter:"sortPaginate"}),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n"]))],function(l,n){var t=n.component;l(n,6,0,t.sponsorUploadsTable),l(n,10,0,t.analytics,t.currentSponsor,t.state.projectCount,t.state.relatedProjectCount,t.loading),l(n,16,0,t.analytics,t.fields),l(n,22,0,t.sharedService.get("authenticated")),l(n,26,0,t.searchResults,t.state.projectCount,t.loading)},null)}function zl(l){return pn._35(0,[(l()(),pn._7(16777216,null,null,1,null,El)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n"])),(l()(),pn._13(0,null,null,7,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],{fullscreen:[0,"fullscreen"],active:[1,"active"]},null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(0,null,0,1,"ui-spinner",[],null,null,null,u,kn)),pn._11(4767744,null,0,In,[Sn],null,null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(0,null,0,0,"br",[],null,null,null,null,null)),(l()(),pn._33(0,["","\n"])),(l()(),pn._33(null,["\n  \n"])),(l()(),pn._7(16777216,null,null,1,null,Al)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n"])),(l()(),pn._7(16777216,null,null,1,null,Fl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,1,0,t.sponsorUploadsTable&&0===t.sponsorUploadsTable.length);l(n,4,0,!0,t.loading),l(n,13,0,t.showAlert),l(n,16,0,t.sponsorUploadsTable&&t.sponsorUploadsTable.length>0)},function(l,n){l(n,10,0,n.component.loadingMessage)})}function Kl(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-review-page",[],null,null,null,zl,te)),pn._11(49152,null,0,le,[Yn,mn],null,null)],null,null)}function Vl(){var l=Jl(window.location.search);return l&&l.sid||null}function Jl(l){return("?"===l[0]?l.substring(1):l).split("&").map(function(l){return l.split("=")}).reduce(function(l,n){return l[n[0]]=n[1],l},{})}function Ll(l){return JSON.parse(JSON.stringify(l))}function Nl(l){var n={};for(var t in l)null!=l[t]&&(n[t]=Ll(l[t]));return n}function Yl(l){return pn._35(0,[(l()(),pn._13(0,null,null,6,"div",[["class","ui-panel-header"]],[[4,"color",null]],[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!=(u.visible=!u.visible)&&e}return e},null,null)),(l()(),pn._33(null,["\n\n  ","\n\n  "])),(l()(),pn._13(0,null,null,3,"div",[["class","pull-right small"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,0,"i",[["aria-hidden","true"],["class","glyphicon glyphicon-triangle-top"]],[[24,"@rotationChanged",0]],null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n\n"])),(l()(),pn._13(0,null,null,3,"div",[["class","ui-panel-content"]],[[24,"@visibilityChanged",0]],null,null,null,null)),(l()(),pn._33(null,["\n  "])),pn._25(null,0),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n"]))],null,function(l,n){var t=n.component;l(n,0,0,t.visible?"#666":"#aaa"),l(n,1,0,t.title),l(n,4,0,t.visible.toString()),l(n,8,0,t.visible.toString())})}function ql(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"ui-panel",[],null,null,null,Yl,_e)),pn._11(49152,null,0,se,[],null,null)],null,null)}function $l(l){return pn._35(0,[(l()(),pn._13(16777216,null,null,10,"div",[["class","multiselect"],["tooltip","Select one or more funding organizations"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,6,"ui-treeview",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"]],function(l,n,t){var e=!0,u=l.component;if("select"===n){e=!1!==u.updateDisplayParameters("funding_organizations",t)&&e}return e},p,zn)),pn._11(573440,null,0,An,[pn.J,pn.m],{root:[0,"root"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[An]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(0,null,null,0))],function(l,n){var t=n.component;l(n,1,0,"Select one or more funding organizations"),l(n,4,0,t.fields.funding_organizations[0]),l(n,6,0,t.form.controls.funding_organizations)},function(l,n){l(n,3,0,pn._26(n,8).ngClassUntouched,pn._26(n,8).ngClassTouched,pn._26(n,8).ngClassPristine,pn._26(n,8).ngClassDirty,pn._26(n,8).ngClassValid,pn._26(n,8).ngClassInvalid,pn._26(n,8).ngClassPending)})}function Hl(l){return pn._35(0,[(l()(),pn._13(16777216,null,null,10,"div",[["class","multiselect"],["tooltip","Select one or more CSO research areas"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,6,"ui-treeview",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"]],function(l,n,t){var e=!0,u=l.component;if("select"===n){e=!1!==u.updateDisplayParameters("cso_research_areas",t)&&e}return e},p,zn)),pn._11(573440,null,0,An,[pn.J,pn.m],{root:[0,"root"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[An]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(0,null,null,0))],function(l,n){var t=n.component;l(n,1,0,"Select one or more CSO research areas"),l(n,4,0,t.fields.cso_research_areas[0]),l(n,6,0,t.form.controls.cso_research_areas)},function(l,n){l(n,3,0,pn._26(n,8).ngClassUntouched,pn._26(n,8).ngClassTouched,pn._26(n,8).ngClassPristine,pn._26(n,8).ngClassDirty,pn._26(n,8).ngClassValid,pn._26(n,8).ngClassInvalid,pn._26(n,8).ngClassPending)})}function Bl(l){return pn._35(0,[(l()(),pn._13(0,null,null,310,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;if("submit"===n){e=!1!==pn._26(l,2).onSubmit(t)&&e}if("reset"===n){e=!1!==pn._26(l,2).onReset()&&e}return e},null,null)),pn._11(16384,null,0,Un.u,[],null,null),pn._11(540672,null,0,Un.h,[[8,null],[8,null]],{form:[0,"form"]},null),pn._30(2048,null,Un.c,null,[Un.h]),pn._11(16384,null,0,Un.m,[Un.c],null,null),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,100,"ui-panel",[["title","Search Terms"]],null,null,null,Yl,_e)),pn._11(49152,null,0,se,[],{title:[0,"title"],visible:[1,"visible"]},null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(0,null,0,1,"label",[["class","sr-only"],["for","search_terms"]],null,null,null,null,null)),(l()(),pn._33(null,["Search Terms"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,[["searchterms",1]],0,6,"input",[["class","text input"],["id","search_terms"],["name","search_terms"],["placeholder","Enter search terms"],["tooltip","Enter search terms"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,14)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,14).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,14)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,14)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==u.updateDisplayParameters("search_terms",[pn._26(l,13).value])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(0,null,0,13,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(16777216,null,null,10,"label",[["class","radio-label"],["for","search_type_all"],["placement","right"],["tooltip","Return awards that contain all the words provided"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,6,"input",[["class","radio-input"],["id","search_type_all"],["name","search_type"],["type","radio"],["value","all"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,27)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,27).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,27)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,27)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==pn._26(l,28).onChange()&&e}if("blur"===n){e=!1!==pn._26(l,28).onTouched()&&e}if("change"===n){e=!1!==u.updateDisplayParameters("search_type",["all"])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._11(212992,null,0,Un.p,[pn.K,pn.m,Un.v,pn.u],{name:[0,"name"],value:[1,"value"]},null),pn._30(1024,null,Un.j,function(l,n){return[l,n]},[Un.d,Un.p]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n        All of the keywords\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(0,null,0,13,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(16777216,null,null,10,"label",[["class","radio-label"],["for","search_type_none"],["placement","right"],["tooltip","Return awards that do not contain any of the words provided"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,6,"input",[["class","radio-input"],["id","search_type_none"],["name","search_type"],["type","radio"],["value","none"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,42)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,42).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,42)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,42)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==pn._26(l,43).onChange()&&e}if("blur"===n){e=!1!==pn._26(l,43).onTouched()&&e}if("change"===n){e=!1!==u.updateDisplayParameters("search_type",["none"])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._11(212992,null,0,Un.p,[pn.K,pn.m,Un.v,pn.u],{name:[0,"name"],value:[1,"value"]},null),pn._30(1024,null,Un.j,function(l,n){return[l,n]},[Un.d,Un.p]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n        None of the keywords\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(0,null,0,13,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(16777216,null,null,10,"label",[["class","radio-label"],["for","search_type_any"],["placement","right"],["tooltip","Return awards that contain any of the words provided"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,6,"input",[["class","radio-input"],["id","search_type_any"],["name","search_type"],["type","radio"],["value","any"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,57)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,57).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,57)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,57)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==pn._26(l,58).onChange()&&e}if("blur"===n){e=!1!==pn._26(l,58).onTouched()&&e}if("change"===n){e=!1!==u.updateDisplayParameters("search_type",["any"])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._11(212992,null,0,Un.p,[pn.K,pn.m,Un.v,pn.u],{name:[0,"name"],value:[1,"value"]},null),pn._30(1024,null,Un.j,function(l,n){return[l,n]},[Un.d,Un.p]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n        Any of the keywords\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(0,null,0,13,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(16777216,null,null,10,"label",[["class","radio-label"],["for","search_type_exact"],["placement","right"],["tooltip","Return awards that contain the exact phrase provided"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(0,null,null,6,"input",[["class","radio-input"],["id","search_type_exact"],["name","search_type"],["type","radio"],["value","exact"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,72)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,72).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,72)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,72)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==pn._26(l,73).onChange()&&e}if("blur"===n){e=!1!==pn._26(l,73).onTouched()&&e}if("change"===n){e=!1!==u.updateDisplayParameters("search_type",["exact"])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._11(212992,null,0,Un.p,[pn.K,pn.m,Un.v,pn.u],{name:[0,"name"],value:[1,"value"]},null),pn._30(1024,null,Un.j,function(l,n){return[l,n]},[Un.d,Un.p]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n        Exact phrase provided\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","years_active"],["tooltip","Awards active in the calendar year. Default view shows most recent 2 years, click below to select additional years."]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Year Active"])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,9,"label",[["class","pull-right"],["style","font-weight: normal"],["tooltip","Search for projects with funding in future years. Note that future portfolios may be incomplete."]],[[4,"display",null]],null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,5,"input",[["class","radio-input"],["id","include_future_years"],["name","include_future_years"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,t){var e=!0,u=l.component;if("change"===n){e=!1!==pn._26(l,89).onChange(t.target.checked)&&e}if("blur"===n){e=!1!==pn._26(l,89).onTouched()&&e}if("change"===n){e=!1!==u.setParameters({years:[]})&&e}return e},null,null)),pn._11(16384,null,0,Un.b,[pn.K,pn.m],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.b]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),(l()(),pn._33(null,["\n      Include Future Years\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","All Years Selected"],["tooltip","Awards active in the calendar year. Default view shows most recent 2 years, click below to select additional years."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,97).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,97).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,97).documentMouseUp(t)&&e}if("select"===n){e=!1!==u.updateDisplayParameters("years",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(0,null,0,1,"i",[["style","color: #888; display: block; font-size: 12px; margin: 4px 2px;"]],null,null,null,null,null)),(l()(),pn._33(null,["Use this indicator to search for awards that are active during the time period you have selected."])),(l()(),pn._33(0,["\n  "])),(l()(),pn._33(null,["\n\n\n\n  "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,106,"ui-panel",[["title","Institutions and Investigators"]],null,null,null,Yl,_e)),pn._11(49152,null,0,se,[],{title:[0,"title"]},null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","institution"],["tooltip","Full or partial institution name"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Institution Name"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,[["institution",1]],0,6,"input",[["class","text input"],["id","institution"],["placeholder","Full or partial name"],["tooltip","Full or partial institution name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,118)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,118).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,118)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,118)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==u.updateDisplayParameters("institution",[pn._26(l,117).value])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","pi_first_name"],["tooltip","Full or partial name of the principal investigator"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Principal Investigator"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(0,null,0,23,"div",[["class","row"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(16777216,[["pifirstname",1]],null,6,"input",[["class","text input"],["id","pi_first_name"],["placeholder","First name or initial"],["tooltip","Full or partial first name of the principal investigator"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,134)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,134).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,134)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,134)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==u.updateDisplayParameters("pi_first_name",[pn._26(l,133).value])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n\n      "])),(l()(),pn._13(0,null,null,9,"div",[["class","col-md-6"],["for","pi_last_name"]],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._13(16777216,[["pilastname",1]],null,6,"input",[["class","text input"],["id","pi_last_name"],["placeholder","Last name"],["tooltip","Full or partial last name of the principal investigator"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,145)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,145).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,145)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,145)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==u.updateDisplayParameters("pi_last_name",[pn._26(l,144).value])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","pi_orcid"],["tooltip","Full or partial ORCiD of the principal investigator"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["ORCiD ID"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,[["piorcid",1]],0,6,"input",[["class","text input"],["for","pi_orcid"],["placeholder","nnnn-nnnn-nnnn-nnnn"],["tooltip","Full or partial ORCiD of the principal investigator"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,159)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,159).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,159)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,159)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==u.updateDisplayParameters("pi_orcid",[pn._26(l,158).value])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","award_code"],["tooltip","Full or partial project award code"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Project Award Code"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,[["awardcode",1]],0,6,"input",[["class","text input"],["id","award_code"],["placeholder","Award Code"],["tooltip","Full or partial project award code"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;if("input"===n){e=!1!==pn._26(l,171)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==pn._26(l,171).onTouched()&&e}if("compositionstart"===n){e=!1!==pn._26(l,171)._compositionStart()&&e}if("compositionend"===n){e=!1!==pn._26(l,171)._compositionEnd(t.target.value)&&e}if("change"===n){e=!1!==u.updateDisplayParameters("award_code",[pn._26(l,170).value])&&e}return e},null,null)),pn._11(16384,null,0,Un.d,[pn.K,pn.m,[2,Un.a]],null,null),pn._30(1024,null,Un.j,function(l){return[l]},[Un.d]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","countries"],["tooltip","Select one or more countries"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Country"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","Enter Countries"],["tooltip","Select one or more countries"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,183).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,183).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,183).documentMouseUp(t)&&e}if("select"===n){u.clearLocations();e=!1!==u.updateDisplayParameters("countries",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","states"],["tooltip","Select one or more states"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["State/Territory"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","Enter States/Territories"],["tooltip","Select one or more states"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,196).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,196).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,196).documentMouseUp(t)&&e}if("select"===n){e=!1!==u.updateDisplayParameters("states",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"],disable:[2,"disable"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","cities"],["tooltip","Select one or more cities"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["City"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","Enter Cities"],["tooltip","Select one or more cities"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,209).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,209).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,209).documentMouseUp(t)&&e}if("select"===n){e=!1!==u.updateDisplayParameters("cities",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"],disable:[2,"disable"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n  "])),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._13(0,null,null,23,"ui-panel",[["title","Funding Organizations"]],null,null,null,Yl,_e)),pn._11(49152,null,0,se,[],{title:[0,"title"]},null),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","funding_organization_type"],["tooltip","Select one or more funding organization types"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Funding Organization Types"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","Select types"],["tooltip","Select one or more funding organization types"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,226).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,226).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,226).documentMouseUp(t)&&e}if("select"===n){e=!1!==u.updateDisplayParameters("funding_organization_types",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(0,null,0,0,"br",[],null,null,null,null,null)),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(0,null,0,1,"label",[["class","sr-only"],["for","funding_organizations"]],null,null,null,null,null)),(l()(),pn._33(null,["Funding Organizations"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._7(16777216,null,0,1,null,$l)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(0,["\n  "])),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,41,"ui-panel",[["title","Cancer and Project Type"]],null,null,null,Yl,_e)),pn._11(49152,null,0,se,[],{title:[0,"title"]},null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","cancer_types"],["tooltip","Select one or more cancer types"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Cancer Types"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","Select Cancer Types"],["tooltip","Select one or more cancer types"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,252).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,252).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,252).documentMouseUp(t)&&e}if("select"===n){e=!1!==u.updateDisplayParameters("cancer_types",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","is_childhood_cancer"],["tooltip","Select Yes to find projects that are wholly or partially relevant to childhood and adolescent cancers."]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Childhood Cancer"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","Select Childhood Cancer"],["tooltip","Select Yes to find projects that are wholly or partially relevant to childhood and adolescent cancers."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,265).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,265).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,265).documentMouseUp(t)&&e}if("select"===n){e=!1!==u.updateDisplayParameters("is_childhood_cancer",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"],limit:[2,"limit"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","form-label"],["for","project_types"],["tooltip","Select one or more project types"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["Project Types"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,7,"ui-select",[["placeholder","Select Project Types"],["tooltip","Select one or more project types"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"select"],["document","mousedown"],["document","click"],["document","mouseup"]],function(l,n,t){var e=!0,u=l.component;if("document:mousedown"===n){e=!1!==pn._26(l,278).mouseDown(t)&&e}if("document:click"===n){e=!1!==pn._26(l,278).focusInput(t)&&e}if("document:mouseup"===n){e=!1!==pn._26(l,278).documentMouseUp(t)&&e}if("select"===n){e=!1!==u.updateDisplayParameters("project_types",t)&&e}return e},c,Tn)),pn._11(49152,null,0,Mn,[pn.m],{items:[0,"items"],placeholder:[1,"placeholder"]},{select:"select"}),pn._30(1024,null,Un.j,function(l){return[l]},[Mn]),pn._11(540672,null,0,Un.g,[[8,null],[8,null],[2,Un.j]],{form:[0,"form"]},null),pn._30(2048,null,Un.k,null,[Un.g]),pn._11(16384,null,0,Un.l,[Un.k],null,null),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(0,["\n  "])),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,9,"ui-panel",[["title","Common Scientific Outline - Research Area"]],null,null,null,Yl,_e)),pn._11(49152,null,0,se,[],{title:[0,"title"]},null),(l()(),pn._33(0,["\n    "])),(l()(),pn._13(16777216,null,0,2,"label",[["class","sr-only"],["for","cso_research_areas"],["tooltip","Select one or more CSO research areas"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["CSO - Research Areas"])),(l()(),pn._33(0,["\n    "])),(l()(),pn._7(16777216,null,0,1,null,Hl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(0,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,10,"div",[["class","text-right vertical-spacer"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.submit()&&e}return e},null,null)),(l()(),pn._33(null,["Search"])),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.setDefaultParameters()&&e}return e},null,null)),(l()(),pn._33(null,["Reset"])),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0,u=l.component;if("click"===n){e=!1!==u.clearForm()&&e}return e},null,null)),(l()(),pn._33(null,["Clear"])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n"])),(l()(),pn._33(null,["\n\n"]))],function(l,n){var t=n.component;l(n,2,0,t.form);l(n,8,0,"Search Terms",!0),l(n,16,0,t.form.controls.search_terms);l(n,19,0,"Enter search terms");l(n,24,0,"Return awards that contain all the words provided","right");l(n,28,0,"search_type","all"),l(n,30,0,t.form.controls.search_type);l(n,39,0,"Return awards that do not contain any of the words provided","right");l(n,43,0,"search_type","none"),l(n,45,0,t.form.controls.search_type);l(n,54,0,"Return awards that contain any of the words provided","right");l(n,58,0,"search_type","any"),l(n,60,0,t.form.controls.search_type);l(n,69,0,"Return awards that contain the exact phrase provided","right");l(n,73,0,"search_type","exact"),l(n,75,0,t.form.controls.search_type);l(n,82,0,"Awards active in the calendar year. Default view shows most recent 2 years, click below to select additional years.");l(n,86,0,"Search for projects with funding in future years. Note that future portfolios may be incomplete."),l(n,91,0,t.form.controls.include_future_years);l(n,97,0,t.filterYears(),"All Years Selected"),l(n,99,0,t.form.controls.years);l(n,102,0,"Awards active in the calendar year. Default view shows most recent 2 years, click below to select additional years.");l(n,111,0,"Institutions and Investigators");l(n,114,0,"Full or partial institution name"),l(n,120,0,t.form.controls.institution);l(n,123,0,"Full or partial institution name");l(n,126,0,"Full or partial name of the principal investigator"),l(n,136,0,t.form.controls.pi_first_name);l(n,139,0,"Full or partial first name of the principal investigator"),l(n,147,0,t.form.controls.pi_last_name);l(n,150,0,"Full or partial last name of the principal investigator");l(n,155,0,"Full or partial ORCiD of the principal investigator"),l(n,161,0,t.form.controls.pi_orcid);l(n,164,0,"Full or partial ORCiD of the principal investigator");l(n,167,0,"Full or partial project award code"),l(n,173,0,t.form.controls.award_code);l(n,176,0,"Full or partial project award code");l(n,179,0,"Select one or more countries");l(n,183,0,t.fields.countries,"Enter Countries"),l(n,185,0,t.form.controls.countries);l(n,188,0,"Select one or more countries");l(n,192,0,"Select one or more states");l(n,196,0,t.filterStates(t.fields.states,t.form.controls.countries&&t.form.controls.countries.value||pn._6),"Enter States/Territories",!t.form.controls.countries.value||1!=t.form.controls.countries.value.length),l(n,198,0,t.form.controls.states);l(n,201,0,"Select one or more states");l(n,205,0,"Select one or more cities");l(n,209,0,t.filterCities(t.fields.cities,t.form.controls.states&&t.form.controls.states.value||pn._6,t.form.controls.countries&&t.form.controls.countries.value||pn._6),"Enter Cities",!t.form.controls.countries.value||1!=t.form.controls.countries.value.length),l(n,211,0,t.form.controls.cities);l(n,214,0,"Select one or more cities");l(n,219,0,"Funding Organizations");l(n,222,0,"Select one or more funding organization types");l(n,226,0,t.fields.funding_organization_types,"Select types"),l(n,228,0,t.form.controls.funding_organization_types);l(n,231,0,"Select one or more funding organization types"),l(n,240,0,t.fields.funding_organizations);l(n,245,0,"Cancer and Project Type");l(n,248,0,"Select one or more cancer types");l(n,252,0,t.fields.cancer_types,"Select Cancer Types"),l(n,254,0,t.form.controls.cancer_types);l(n,257,0,"Select one or more cancer types");l(n,261,0,"Select Yes to find projects that are wholly or partially relevant to childhood and adolescent cancers.");l(n,265,0,t.fields.is_childhood_cancer,"Select Childhood Cancer",1),l(n,267,0,t.form.controls.is_childhood_cancer);l(n,270,0,"Select Yes to find projects that are wholly or partially relevant to childhood and adolescent cancers.");l(n,274,0,"Select one or more project types");l(n,278,0,t.fields.project_types,"Select Project Types"),l(n,280,0,t.form.controls.project_types);l(n,283,0,"Select one or more project types");l(n,289,0,"Common Scientific Outline - Research Area");l(n,292,0,"Select one or more CSO research areas"),l(n,296,0,t.fields.cso_research_areas)},function(l,n){var t=n.component;l(n,0,0,pn._26(n,4).ngClassUntouched,pn._26(n,4).ngClassTouched,pn._26(n,4).ngClassPristine,pn._26(n,4).ngClassDirty,pn._26(n,4).ngClassValid,pn._26(n,4).ngClassInvalid,pn._26(n,4).ngClassPending),l(n,13,0,pn._26(n,18).ngClassUntouched,pn._26(n,18).ngClassTouched,pn._26(n,18).ngClassPristine,pn._26(n,18).ngClassDirty,pn._26(n,18).ngClassValid,pn._26(n,18).ngClassInvalid,pn._26(n,18).ngClassPending),l(n,26,0,pn._26(n,32).ngClassUntouched,pn._26(n,32).ngClassTouched,pn._26(n,32).ngClassPristine,pn._26(n,32).ngClassDirty,pn._26(n,32).ngClassValid,pn._26(n,32).ngClassInvalid,pn._26(n,32).ngClassPending),l(n,41,0,pn._26(n,47).ngClassUntouched,pn._26(n,47).ngClassTouched,pn._26(n,47).ngClassPristine,pn._26(n,47).ngClassDirty,pn._26(n,47).ngClassValid,pn._26(n,47).ngClassInvalid,pn._26(n,47).ngClassPending),l(n,56,0,pn._26(n,62).ngClassUntouched,pn._26(n,62).ngClassTouched,pn._26(n,62).ngClassPristine,pn._26(n,62).ngClassDirty,pn._26(n,62).ngClassValid,pn._26(n,62).ngClassInvalid,pn._26(n,62).ngClassPending),l(n,71,0,pn._26(n,77).ngClassUntouched,pn._26(n,77).ngClassTouched,pn._26(n,77).ngClassPristine,pn._26(n,77).ngClassDirty,pn._26(n,77).ngClassValid,pn._26(n,77).ngClassInvalid,pn._26(n,77).ngClassPending),l(n,85,0,t.sharedService.get("authenticated")?"inline-block":"none"),l(n,88,0,pn._26(n,93).ngClassUntouched,pn._26(n,93).ngClassTouched,pn._26(n,93).ngClassPristine,pn._26(n,93).ngClassDirty,pn._26(n,93).ngClassValid,pn._26(n,93).ngClassInvalid,pn._26(n,93).ngClassPending),l(n,96,0,pn._26(n,101).ngClassUntouched,pn._26(n,101).ngClassTouched,pn._26(n,101).ngClassPristine,pn._26(n,101).ngClassDirty,pn._26(n,101).ngClassValid,pn._26(n,101).ngClassInvalid,pn._26(n,101).ngClassPending),l(n,117,0,pn._26(n,122).ngClassUntouched,pn._26(n,122).ngClassTouched,pn._26(n,122).ngClassPristine,pn._26(n,122).ngClassDirty,pn._26(n,122).ngClassValid,pn._26(n,122).ngClassInvalid,pn._26(n,122).ngClassPending),l(n,133,0,pn._26(n,138).ngClassUntouched,pn._26(n,138).ngClassTouched,pn._26(n,138).ngClassPristine,pn._26(n,138).ngClassDirty,pn._26(n,138).ngClassValid,pn._26(n,138).ngClassInvalid,pn._26(n,138).ngClassPending),l(n,144,0,pn._26(n,149).ngClassUntouched,pn._26(n,149).ngClassTouched,pn._26(n,149).ngClassPristine,pn._26(n,149).ngClassDirty,pn._26(n,149).ngClassValid,pn._26(n,149).ngClassInvalid,pn._26(n,149).ngClassPending),l(n,158,0,pn._26(n,163).ngClassUntouched,pn._26(n,163).ngClassTouched,pn._26(n,163).ngClassPristine,pn._26(n,163).ngClassDirty,pn._26(n,163).ngClassValid,pn._26(n,163).ngClassInvalid,pn._26(n,163).ngClassPending),l(n,170,0,pn._26(n,175).ngClassUntouched,pn._26(n,175).ngClassTouched,pn._26(n,175).ngClassPristine,pn._26(n,175).ngClassDirty,pn._26(n,175).ngClassValid,pn._26(n,175).ngClassInvalid,pn._26(n,175).ngClassPending),l(n,182,0,pn._26(n,187).ngClassUntouched,pn._26(n,187).ngClassTouched,pn._26(n,187).ngClassPristine,pn._26(n,187).ngClassDirty,pn._26(n,187).ngClassValid,pn._26(n,187).ngClassInvalid,pn._26(n,187).ngClassPending),l(n,195,0,pn._26(n,200).ngClassUntouched,pn._26(n,200).ngClassTouched,pn._26(n,200).ngClassPristine,pn._26(n,200).ngClassDirty,pn._26(n,200).ngClassValid,pn._26(n,200).ngClassInvalid,pn._26(n,200).ngClassPending),l(n,208,0,pn._26(n,213).ngClassUntouched,pn._26(n,213).ngClassTouched,pn._26(n,213).ngClassPristine,pn._26(n,213).ngClassDirty,pn._26(n,213).ngClassValid,pn._26(n,213).ngClassInvalid,pn._26(n,213).ngClassPending),l(n,225,0,pn._26(n,230).ngClassUntouched,pn._26(n,230).ngClassTouched,pn._26(n,230).ngClassPristine,pn._26(n,230).ngClassDirty,pn._26(n,230).ngClassValid,pn._26(n,230).ngClassInvalid,pn._26(n,230).ngClassPending),l(n,251,0,pn._26(n,256).ngClassUntouched,pn._26(n,256).ngClassTouched,pn._26(n,256).ngClassPristine,pn._26(n,256).ngClassDirty,pn._26(n,256).ngClassValid,pn._26(n,256).ngClassInvalid,pn._26(n,256).ngClassPending),l(n,264,0,pn._26(n,269).ngClassUntouched,pn._26(n,269).ngClassTouched,pn._26(n,269).ngClassPristine,pn._26(n,269).ngClassDirty,pn._26(n,269).ngClassValid,pn._26(n,269).ngClassInvalid,pn._26(n,269).ngClassPending),l(n,277,0,pn._26(n,282).ngClassUntouched,pn._26(n,282).ngClassTouched,pn._26(n,282).ngClassPristine,pn._26(n,282).ngClassDirty,pn._26(n,282).ngClassValid,pn._26(n,282).ngClassInvalid,pn._26(n,282).ngClassPending)})}function Wl(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-search-form",[],null,null,null,Bl,ge)),pn._11(49152,null,0,pe,[Un.e,ue,ie,mn],null,null)],null,null)}function Xl(l){return pn._35(0,[(l()(),pn._13(0,null,null,9,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(16777216,null,null,2,"b",[["tooltip","Parent projects"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n        Total Projects: "," /\n      "])),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(16777216,null,null,2,"b",[["tooltip","Including linked sub-projects or supplements"]],null,null,null,null,null)),pn._11(212992,null,0,Wn.a,[pn.U,pn.J,pn.m,Xn.a,Gn.a],{tooltip:[0,"tooltip"]},null),(l()(),pn._33(null,["\n        Total Related Projects: ","\n      "])),(l()(),pn._33(null,["\n    "]))],function(l,n){l(n,3,0,"Parent projects");l(n,7,0,"Including linked sub-projects or supplements")},function(l,n){var t=n.component;l(n,4,0,t.projectCount.toLocaleString()),l(n,8,0,t.relatedProjectCount.toLocaleString())})}function Gl(l){return pn._35(0,[(l()(),pn._13(0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),pn._33(null,["\n          "])),(l()(),pn._13(0,null,null,2,"td",[],null,null,null,null,null)),(l()(),pn._13(0,null,null,1,"b",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n          "])),(l()(),pn._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),pn._33(null,["",""])),(l()(),pn._33(null,["\n        "]))],null,function(l,n){l(n,4,0,n.component.getDisplayName(n.context.$implicit[0])),l(n,7,0,n.context.$implicit[1])})}function Ql(l){return pn._35(0,[(l()(),pn._13(0,null,null,10,"div",[["class","responsive-wrapper vertical-padding"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,7,"table",[["class","display-parameters"]],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),pn._33(null,["\n        "])),(l()(),pn._7(16777216,null,null,1,null,Gl)),pn._11(802816,null,0,wn.e,[pn.U,pn.R,pn.w],{ngForOf:[0,"ngForOf"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "]))],function(l,n){l(n,7,0,n.component.displayParameters)},null)}function Zl(l){return pn._35(0,[(l()(),pn._33(null,["\n"])),(l()(),pn._13(0,null,null,17,"icrp-summary-panel",[],null,null,null,x,nt)),pn._11(49152,null,0,Zn,[],{toggleEnabled:[0,"toggleEnabled"]},null),(l()(),pn._33(2,["\n  "])),(l()(),pn._13(0,null,0,4,"div",[["left-header",""]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(2,["\n  "])),(l()(),pn._13(0,null,1,4,"div",[["class","blue"],["right-header",""]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._7(16777216,null,null,1,null,Xl)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(2,["\n\n  "])),(l()(),pn._7(16777216,null,2,1,null,Ql)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(2,["\n\n\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,2,0,!t.loading&&t.displayParameters&&t.displayParameters.length),l(n,13,0,t.projectCount&&t.relatedProjectCount),l(n,17,0,!t.loading)},function(l,n){l(n,6,0,n.component.getSummary())})}function ln(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-search-summary-panel",[],null,null,null,Zl,ye)),pn._11(49152,null,0,fe,[],null,null)],null,null)}function nn(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"alert",[["dismissible","true"],["type","danger"]],null,null,null,xn.c,xn.b)),pn._11(114688,null,0,Jn.a,[Ln.a],{type:[0,"type"],dismissible:[1,"dismissible"]},null),(l()(),pn._33(0,["\n      The saved search has expired. Search results are saved for 30 days, after which they will no longer be accessible.\n    "]))],function(l,n){l(n,1,0,"danger","true")},null)}function tn(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      No results found\n    "]))],null,null)}function en(l){return pn._35(0,[(l()(),pn._13(0,null,null,2,"icrp-export-buttons-panel",[],null,null,null,pl,Lt)),pn._11(49152,null,0,Vt,[mn],{authenticated:[0,"authenticated"]},null),(l()(),pn._33(null,["\n      "]))],function(l,n){l(n,1,0,n.component.sharedService.get("authenticated"))},null)}function un(l){return pn._35(0,[(l()(),pn._13(0,null,null,14,"div",[],null,null,null,null,null)),(l()(),pn._33(null,["\n      "])),(l()(),pn._13(0,null,null,2,"icrp-charts-panel",[],null,[[null,"requestChart"]],function(l,n,t){var e=!0,u=l.component;if("requestChart"===n){e=!1!==u.getAnalytics(u.state.searchID,[t.type],t.year)&&e}return e},$,vt)),pn._11(573440,[[3,4],["chartspanel",4]],0,mt,[mn,Un.e],{analytics:[0,"analytics"],fields:[1,"fields"]},{requestChart:"requestChart"}),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n\n      "])),(l()(),pn._13(0,null,null,0,"br",[],null,null,null,null,null)),(l()(),pn._33(null,["\n\n      "])),(l()(),pn._7(16777216,null,null,1,null,en)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n      "])),(l()(),pn._13(0,null,null,2,"icrp-results-table-panel",[],null,[[null,"sortPaginate"]],function(l,n,t){var e=!0,u=l.component;if("sortPaginate"===n){e=!1!==u.getSortedPaginatedResults(t)&&e}return e},Dl,Zt)),pn._11(49152,null,0,Gt,[],{results:[0,"results"],numResults:[1,"numResults"],loading:[2,"loading"]},{sortPaginateEmitter:"sortPaginate"}),(l()(),pn._33(null,["\n      "])),(l()(),pn._33(null,["\n    "]))],function(l,n){var t=n.component;l(n,3,0,t.state.analytics,t.fields),l(n,9,0,t.state.results&&t.state.results.length),l(n,12,0,t.state.results,t.state.projectCount,t.state.loading)},null)}function on(l){return pn._35(0,[pn._31(402653184,1,{searchForm:0}),pn._31(402653184,2,{summaryPanel:0}),pn._31(671088640,3,{chartsPanel:0}),(l()(),pn._13(0,null,null,7,"ui-overlay",[],null,null,null,D,ct)),pn._11(114688,null,0,at,[],{fullscreen:[0,"fullscreen"],active:[1,"active"]},null),(l()(),pn._33(0,["\n  "])),(l()(),pn._13(0,null,0,1,"ui-spinner",[],null,null,null,u,kn)),pn._11(4767744,null,0,In,[Sn],null,null),(l()(),pn._33(0,["\n  "])),(l()(),pn._13(0,null,0,0,"br",[],null,null,null,null,null)),(l()(),pn._33(0,["","\n\n"])),(l()(),pn._33(null,["\n\n\n"])),(l()(),pn._13(0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(l()(),pn._33(null,["\n  "])),(l()(),pn._13(0,null,null,5,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,2,"icrp-search-form",[],null,[[null,"search"]],function(l,n,t){var e=!0,u=l.component;if("search"===n){e=!1!==u.getSearchResults(t)&&e}return e},Bl,ge)),pn._11(49152,[[1,4],["searchform",4]],0,pe,[Un.e,ue,ie,mn],null,{search:"search"}),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "])),(l()(),pn._33(null,["\n\n  "])),(l()(),pn._13(0,null,null,16,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,2,"icrp-search-summary-panel",[],null,null,null,Zl,ye)),pn._11(49152,[[2,4],["summarypanel",4]],0,fe,[],{displayParameters:[0,"displayParameters"],projectCount:[1,"projectCount"],relatedProjectCount:[2,"relatedProjectCount"],loading:[3,"loading"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._13(0,null,null,0,"br",[],null,null,null,null,null)),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,nn)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,tn)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n    "])),(l()(),pn._7(16777216,null,null,1,null,un)),pn._11(16384,null,0,wn.f,[pn.U,pn.R],{ngIf:[0,"ngIf"]},null),(l()(),pn._33(null,["\n\n\n  "])),(l()(),pn._33(null,["\n"])),(l()(),pn._33(null,["\n"]))],function(l,n){var t=n.component;l(n,4,0,!0,t.state.loading&&(!t.state.results||!t.state.results.length)),l(n,24,0,t.state.displayParameters,t.state.projectCount,t.state.relatedProjectCount,t.state.loading),l(n,30,0,t.state.expiredSearchID),l(n,33,0,!(t.state.loading||t.state.results&&0!==t.state.results.length)),l(n,36,0,t.state.loading||t.state.results&&t.state.results.length>0)},function(l,n){l(n,10,0,n.component.loadingMessage)})}function rn(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-search-page",[],null,null,null,on,be)),pn._11(4243456,null,0,oe,[ue,ie,mn],null,null)],null,null)}function an(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-review-page",[],null,null,null,zl,te)),pn._11(49152,null,0,le,[Yn,mn],null,null)],null,null)}function sn(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-search-page",[],null,null,null,on,be)),pn._11(4243456,null,0,oe,[ue,ie,mn],null,null)],null,null)}function cn(l){return pn._35(0,[(l()(),pn._33(null,["\n    "])),(l()(),pn._13(0,null,null,8,"div",[],null,null,null,null,null)),pn._11(16384,null,0,wn.i,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,an)),pn._11(278528,null,0,wn.j,[pn.U,pn.R,wn.i],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),pn._33(null,["\n      "])),(l()(),pn._7(16777216,null,null,1,null,sn)),pn._11(278528,null,0,wn.j,[pn.U,pn.R,wn.i],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),pn._33(null,["\n    "])),(l()(),pn._33(null,["\n  "]))],function(l,n){l(n,2,0,n.component.sharedService.get("componentType"));l(n,5,0,"review");l(n,8,0,"search")},null)}function _n(l){return pn._35(0,[(l()(),pn._13(0,null,null,1,"icrp-root",[],null,null,null,cn,xe)),pn._11(49152,null,0,yn,[pn.m,mn],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var pn=t("/oeL"),dn={production:!0},gn=(t("5v8a"),t("xpf9"),t("RpuY"),function(){function l(){}return l}()),hn=t("CPp0"),fn=t("Dqrr"),mn=function(){function l(l){this.http=l,this.data={root:"",componentType:"",authenticated:!1,is_production:!1,searchID:null,dataUploadID:null,userRoles:[]},this.updateAuthenticationStatus(),this.set("is_production",dn.production)}return l.prototype.get=function(l){return this.data[l]},l.prototype.set=function(l,n){this.data[l]=n},l.prototype.updateAuthenticationStatus=function(){var l=this;if(this.set("authenticated",!1),dn.production){this.http.get("/api/database/authenticate",{withCredentials:!0}).map(function(l){return l.text()}).subscribe(function(n){return l.set("authenticated",!0)})}else fn.Observable.of(!1).subscribe(function(n){return l.set("authenticated",n)})},l.ctorParameters=function(){return[{type:hn.d}]},l}(),yn=function(){function l(l,n){this.elementRef=l,this.sharedService=n;var t=l.nativeElement;n.set("apiRoot",t.getAttribute("data-api-root")||""),n.set("componentType",t.getAttribute("data-component-type")),n.set("userRoles",(t.getAttribute("data-user-roles")||"").split(","))}return l.ctorParameters=function(){return[{type:pn.m},{type:mn}]},l}(),vn=t("J1Nk"),bn=t("ipzd"),Cn=t("IksT"),xn=t("n3mJ"),Pn=["[_nghost-%COMP%]   .dismissible[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.5}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}"],wn=t("qbdv"),Sn=function(){function l(){this.active=!0,this.dismissible=!1,this.size=25}return l}(),In=function(){function l(l){Object.assign(this,l)}return l.prototype.updateArc=function(){var l=this;window.setTimeout(function(){var n=l.size/2-l.size/10;l.arc="M "+l.size/2+" "+l.size/10+" a "+n+" "+n+" 0 0 1 "+n+" "+n},0)},l.prototype.ngOnChanges=function(){this.updateArc()},l.prototype.ngAfterViewInit=function(){this.updateArc()},l.ctorParameters=function(){return[{type:Sn}]},l}(),jn=[Pn],kn=pn._10({encapsulation:0,styles:jn,data:{}}),On=pn._8("ui-spinner",In,i,{active:"active",dismissible:"dismissible",size:"size"},{},[]),Rn=[".select-container[_ngcontent-%COMP%]{width:100%;position:relative}.select-input-container[_ngcontent-%COMP%]{cursor:text}.select-input-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.select-label[_ngcontent-%COMP%]{cursor:default}.select-label[_ngcontent-%COMP%], .select-label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.select-label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{cursor:pointer}.select-input[_ngcontent-%COMP%]{display:inline-block;border:none;outline:none}.select-dropdown[_ngcontent-%COMP%]{position:absolute;left:0;right:0;z-index:9999;cursor:default}.select-container.default[_ngcontent-%COMP%]{padding-left:4px;border:1px solid #d1d1d1;border-radius:2px;color:#777}.select-input-container.default[_ngcontent-%COMP%]{padding-left:6px}.select-label.default[_ngcontent-%COMP%]{margin:2px 4px 2px -2px;border:1px solid #ddd;border-radius:2px}.select-label.default[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px #ddd}.select-label.default[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 4px;cursor:default}.select-label.default[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-left:1px solid #ddd;color:#ccc;cursor:pointer}.select-label.default[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child:hover{color:#999;box-shadow:0 0 2px #bbb}.select-input.default[_ngcontent-%COMP%]{margin-left:-2px;padding:6px 0}.select-dropdown.default[_ngcontent-%COMP%]{margin-top:1px;background-color:#fff;outline:1px solid #ccc;box-shadow:0 2px 3px #ddd;overflow-y:auto;overflow-x:hidden;max-height:200px}.select-dropdown-item.default[_ngcontent-%COMP%]{padding:4px 8px}.select-dropdown-item.default.selected[_ngcontent-%COMP%]{background-color:#dedede;color:#000;outline:1px solid #fff}input.select-input-disabled.default[_ngcontent-%COMP%]{width:100%;padding:6px 10px;margin-bottom:6px;border:1px solid #d1d1d1;background-color:#efefef;border-radius:2px;box-sizing:border-box}"],Mn=function(){function l(l){this._ref=l,this.limit=-1,this.disable=!1,this.showSearchDropdown=!1,this.items=[],this.placeholder="",this.select=new pn.o,this.selectedItems=[],this.matchingItems=[],this.highlightedItemIndex=-1,this.initialHiglightedRangeIndex=-1,this.currentHiglightedRangeIndex=-1}return l.prototype.writeValue=function(l){if(this.input&&this.input.nativeElement&&(this.input.nativeElement.value=""),this.selectedItems=[],l&&l.length)for(var n=this,t=0,e=l;t<e.length;t++){var u=e[t];!function(l){var t=n.items.find(function(n){return n.value==l});t||(t={label:l,value:isNaN(+l)?l:+l}),(t&&-1==n.limit||n.selectedItems.length<n.limit)&&n.selectedItems.push(t)}(u)}this.emitValue()},l.prototype.propagateChange=function(l){},l.prototype.registerOnTouched=function(){},l.prototype.registerOnChange=function(l){this.propagateChange=l},l.prototype.emitValue=function(){var l=this.selectedItems.map(function(l){return l.value});this.propagateChange(l),this.select.emit(this.selectedItems)},l.prototype.removeSelectedItem=function(l){this.selectedItems.splice(l,1),this.emitValue()},l.prototype.addSelectedItem=function(l){(-1==this.limit||this.selectedItems.length<this.limit)&&(this.selectedItems.push(l),this.input.nativeElement.value="",this.emitValue())},l.prototype.handleKeydownEvent=function(l){"Enter"===l.key&&this.matchingItems.length>0&&(l.preventDefault(),this.addSelectedItem(this.matchingItems[this.highlightedItemIndex]),this.updateSearchResults()),"Backspace"===l.key&&0===this.input.nativeElement.value.length&&this.selectedItems.length>0&&(this.selectedItems.pop(),this.updateSearchResults(),this.emitValue())},l.prototype.handleKeyupEvent=function(l){this.input.nativeElement;"ArrowUp"===l.key?--this.highlightedItemIndex<0&&(this.highlightedItemIndex=this.matchingItems.length-1):"ArrowDown"===l.key?++this.highlightedItemIndex>=this.matchingItems.length&&(this.highlightedItemIndex=0):this.updateSearchResults()},l.prototype.updateSearchResults=function(){var l=this,n=this.input.nativeElement.value;this.matchingItems=this.items.filter(function(n){return!l.selectedItems.find(function(l){return n.label==l.label})}).filter(function(l){return l.label.toLowerCase().indexOf(n.toLowerCase())>-1}),this.highlightedItemIndex=this.matchingItems.length?0:-1,this.showSearchDropdown=this.matchingItems.length>0},l.prototype.highlightItem=function(l,n){var t=l.label,e=this.input.nativeElement.value,u=this.input.nativeElement.value.length,i=t;if(e&&u){var o=t.toLowerCase().indexOf(e.toLowerCase());if(o>=0){i=t.substr(0,o)+"<b>"+t.substr(o,u)+"</b>"+t.substr(o+u)}}return i},l.prototype.focusInput=function(l){this.showSearchDropdown=this._ref.nativeElement.contains(l.target),this.showSearchDropdown&&(this.input.nativeElement.focus(),this.updateSearchResults(),this.showSearchDropdown=!0)},l.prototype.highlightIndex=function(l,n){this.currentHiglightedRangeIndex=l,this.highlightedItemIndex=l,!isNaN(this.initialHiglightedRangeIndex)&&this.mousePressed||(this.initialHiglightedRangeIndex=this.currentHiglightedRangeIndex)},l.prototype.mouseDown=function(l,n,t){this.mousePressed=!0,this.initialHiglightedRangeIndex=+this.currentHiglightedRangeIndex},l.prototype.documentMouseUp=function(l,n){this.mousePressed=!1},l.prototype.mouseUp=function(l,n){this.mousePressed=!1,this.addRangeToSelectedItems()},l.prototype.addRangeToSelectedItems=function(){for(var l=this,n=this.initialHiglightedRangeIndex;n<=this.currentHiglightedRangeIndex;n++)!function(n){var t=l.matchingItems[n];t&&!l.selectedItems.find(function(l){return l.label===t.label&&l.value===t.value})&&(-1==l.limit||l.selectedItems.length<l.limit)&&l.selectedItems.push(l.matchingItems[n])}(n);this.initialHiglightedRangeIndex=-1,this.currentHiglightedRangeIndex=-1,this.input&&this.input.nativeElement&&(this.input.nativeElement.value=""),this.emitValue()},l.ctorParameters=function(){return[{type:pn.m}]},l}(),Un=t("bm2B"),Dn=[Rn],Tn=pn._10({encapsulation:0,styles:Dn,data:{}}),En=pn._8("ui-select",Mn,_,{items:"items",placeholder:"placeholder",disable:"disable",limit:"limit"},{select:"select"},[]),An=function(){function l(l,n){this._renderer=l,this._elementRef=n,this.root=null,this.selectedValues=[],this.selectedNodes=[],this.select=new pn.o,this._r={setElementStyles:function(n,t){for(var e in t)l.setElementStyle(n,e,t[e])},setElementProperties:function(n,t){for(var e in t)l.setElementProperty(n,e,t[e])},setElementAttributes:function(n,t){for(var e in t)l.setElementAttribute(n,e,t[e])},clearElementChildren:function(n){for(;n.firstChild;)l.invokeElementMethod(n,"removeChild",[n.firstChild])}}}return l.prototype.createTree=function(l){var n=this;this.ensureDefaultProperties(l),this.updateSelectedNodes(l);var t=this._renderer.createElement(l.el,"div"),e=this._renderer.createElement(t,"label"),u=this._renderer.createElement(e,"input");if(this._renderer.createText(e,l.label),this._renderer.listen(u,"click",this.toggleNode.bind(this,l)),this._r.setElementAttributes(u,{type:"checkbox"}),this._r.setElementProperties(u,{value:l.value,checked:l.selected}),this._r.setElementStyles(t,{"margin-left":"6px","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),this._r.setElementStyles(u,{"margin-right":"2px"}),this._r.setElementStyles(e,{"margin-bottom":"0","font-weight":l.children&&l.children.length?"bold":"normal",cursor:"pointer"}),l.children&&l.children.length){var i=this._renderer.createElement(t,"span");this._r.setElementStyles(i,{"margin-left":"8px",color:"#ccc",cursor:"pointer"}),this._renderer.createText(i,l.showChildren?"[hide]":"[show]"),this._renderer.listen(i,"click",function(t){l.showChildren=!l.showChildren,n.rebuildTree()});for(var o=0,r=l.children;o<r.length;o++){var a=r[o];a.el=this._renderer.createElement(t,"div"),this._r.setElementStyles(a.el,{display:l.showChildren?"block":"none"}),a.parent=l,this.createTree(a)}}this.propagateChange(this.selectedNodes.map(function(l){return l.value}))},l.prototype.toggleNode=function(l){if(l.selected=!l.selected,!l.selected)for(var n=l;null!=n.parent;)n.parent.selected=!1,n=n.parent;if(l.children){var t=function(l){for(var n=0,e=l.children||[];n<e.length;n++){var u=e[n];u.selected=l.selected,t(u)}};t(l)}this._r.clearElementChildren(l.parent?l.parent.el:l.el),this.createTree(l.parent||l),this.select.emit(this.getSelectedNodes())},l.prototype.getSelectedNodes=function(){var l=function(n,t){n.selected&&t.push(n);for(var e=0,u=n.children||[];e<u.length;e++){l(u[e],t)}return t};return l(this.root,[])},l.prototype.updateSelectedNodes=function(l){var n=this.selectedNodes.findIndex(function(n){return n.value===l.value});l.selected&&-1===n?this.selectedNodes.push(l):!l.selected&&n>-1&&this.selectedNodes.splice(n,1)},l.prototype.selectNodes=function(l,n){if(l.selected=n.indexOf(l.value)>-1,l.children)for(var t=0,e=l.children;t<e.length;t++){var u=e[t];this.selectNodes(u,n)}},l.prototype.rebuildTree=function(){this.root=this.root||{label:null,value:null},this.root.parent=null,this.root.el=this._elementRef.nativeElement,this._r.clearElementChildren(this._elementRef.nativeElement),this.createTree(this.root)},l.prototype.ngOnChanges=function(){this.rebuildTree()},l.prototype.writeValue=function(l){this.selectNodes(this.root,l||[]),this.rebuildTree()},l.prototype.propagateChange=function(l){},l.prototype.registerOnTouched=function(){},l.prototype.registerOnChange=function(l){this.propagateChange=l},l.prototype.ensureProperty=function(l,n,t){void 0!==l[n]&&null!==l[n]||(l[n]=t)},l.prototype.ensureDefaultProperties=function(l){this.ensureProperty(l,"children",[]),this.ensureProperty(l,"showChildren",!0)},l.ctorParameters=function(){return[{type:pn.J},{type:pn.m}]},l}(),Fn=[],zn=pn._10({encapsulation:2,styles:Fn,data:{}}),Kn=pn._8("ui-treeview",An,d,{root:"root"},{select:"select"},[]),Vn=[""],Jn=t("LQq5"),Ln=t("mAW5"),Nn=["a[_ngcontent-%COMP%]{cursor:pointer}"],Yn=function(){function l(l,n){this.http=l,this.sharedService=n,this.apiRoot=(n.get("apiRoot")||"")+"/api/database/review"}return l.prototype.getRequest=function(l,n){void 0===n&&(n={});var t=new hn.h;for(var e in n)t.set(e,n[e]);return this.http.get(l,{search:t,withCredentials:this.sharedService.get("is_production")}).map(function(l){return l.json()})},l.prototype.getSponsorUploads=function(){return this.getRequest(this.apiRoot+"/sponsor_uploads")},l.prototype.getSearchResults=function(l){return this.getRequest(this.apiRoot+"/sort_paginate",l).map(function(l){var n=l.results.map(function(l){var n=Object.assign({},l);return n.project_url="/review/project/"+n.project_id,n});return{search_id:l.search_id,results_count:l.results_count,results:n}})},l.prototype.getSearchSummary=function(l){return this.getRequest(this.apiRoot+"/search_summary",l)},l.prototype.getAnalytics=function(l){return this.getRequest(this.apiRoot+"/analytics",l)},l.prototype.getFields=function(){return this.getRequest(this.apiRoot+"/fields")},l.prototype.syncProd=function(l){return this.getRequest(this.apiRoot+"/sync_prod",l)},l.ctorParameters=function(){return[{type:hn.d},{type:mn}]},l}(),qn=function(){function l(l,n){this.reviewService=l,this.sharedService=n,this.uploads=[],this.select=new pn.o,this.syncProd=new pn.o}return l.ctorParameters=function(){return[{type:Yn},{type:mn}]},l}(),$n=[Nn],Hn=pn._10({encapsulation:0,styles:$n,data:{}}),Bn=(pn._8("icrp-review-uploads-table",qn,y,{uploads:"uploads"},{select:"select",syncProd:"syncProd"},[]),[".bold[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.orange[_ngcontent-%COMP%]{color:orange}.blue[_ngcontent-%COMP%]{color:#4682b4}.vertical-padding[_ngcontent-%COMP%]{padding:10px 0}"]),Wn=t("TRIn"),Xn=t("poDJ"),Gn=t("/XUI"),Qn=["ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;margin-left:0;margin-right:0}.title[_ngcontent-%COMP%]{padding:4px 6px;white-space:nowrap;text-overflow:ellipsis;background:linear-gradient(#fff,#f2f2f2);cursor:pointer}.content[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{border:1px solid #ddd}.content[_ngcontent-%COMP%]{padding:0 10px;border-top:none;box-shadow:1px 1px 6px #eee}.rotate-45[_ngcontent-%COMP%]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}"],Zn=function(){function l(){this.toggleEnabled=!0,this.showSummary=!1}return l}(),lt=[Qn],nt=pn._10({encapsulation:0,styles:lt,data:{}}),tt=(pn._8("icrp-summary-panel",Zn,P,{toggleEnabled:"toggleEnabled",showSummary:"showSummary"},{},["[left-header]","[right-header]","*"]),function(){function l(){this.analytics={},this.currentSponsor={},this.loading=!0,this.mapKeys={project_count:"Project Count",project_funding_count:"Project Funding Count",project_funding_investigator_count:"Project Funding Investigator Count",project_cso_count:"Project CSO Count",project_cancer_type_count:"Project Cancer Type Count",project_type_count:"Project Type Count",project_abstract_count:"Project Abstract Count"},this.keys=Object.keys(this.mapKeys)}return l}()),et=[Bn],ut=pn._10({encapsulation:0,styles:et,data:{}}),it=(pn._8("icrp-review-summary-panel",tt,U,{analytics:"analytics",currentSponsor:"currentSponsor",projectCount:"projectCount",relatedProjectCount:"relatedProjectCount",loading:"loading"},{},[]),[".chart-type-selector[_ngcontent-%COMP%]{border:1px solid #ddd;margin:0 auto 20px;padding:10px 40px;text-align:center;display:inline-block}.chart-type-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;margin-right:40px;cursor:pointer}.chart-type-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}.disabled[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#888;cursor:not-allowed}.inline-block[_ngcontent-%COMP%]{display:inline-block}"]),ot=["[_nghost-%COMP%]   .arc[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{text-anchor:middle;font:10px sans-serif}[_nghost-%COMP%]   .arc[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#fff}path[_ngcontent-%COMP%]{fill:#ccc;stroke:#444}.chart-label[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap;overflow:visible;margin-top:5px;margin-bottom:10px}.d3-tooltip[_ngcontent-%COMP%]{color:#555;background-color:#fff;border:1px solid #ddd;padding:5px;border-radius:4px;opacity:.5;z-index:9999;position:fixed;pointer-events:none;text-align:left}div.d3-tooltip[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin:0}p.text-grey[_ngcontent-%COMP%]{color:#666}.loading-inlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0;top:0;opacity:.6;background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:999}"],rt=[".loading-overlay-fullscreen[_ngcontent-%COMP%]{position:fixed;z-index:19999}.loading-overlay[_ngcontent-%COMP%], .loading-overlay-fullscreen[_ngcontent-%COMP%]{width:100%;height:100%;left:0;top:0;opacity:.7;color:#666;background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.loading-overlay[_ngcontent-%COMP%]{position:absolute;z-index:999}.fade-in[_ngcontent-%COMP%]{-webkit-animation:fadein .1s;animation:fadein .1s}@keyframes fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}"],at=function(){function l(){this.fullscreen=!1,this.active=!0}return l.prototype.ngOnInit=function(){},l.ctorParameters=function(){return[]},l}(),st=[rt],ct=pn._10({encapsulation:0,styles:st,data:{animation:[{type:7,name:"isActive",definitions:[{type:0,name:"false",styles:{type:6,styles:{opacity:"0",display:"none",zIndex:"-9999"},offset:null},options:void 0},{type:0,name:"true",styles:{type:6,styles:{opacity:"1",zIndex:"9999",display:"flex"},offset:null},options:void 0},{type:1,expr:":enter",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:":leave",animation:{type:4,styles:null,timings:"50ms ease-out"},options:null},{type:1,expr:"true => false",animation:{type:4,styles:null,timings:"50ms ease-out"},options:null},{type:1,expr:"false => true",animation:{type:4,styles:null,timings:"50ms ease-in"},options:null}],options:{}}]}}),_t=(pn._8("ui-overlay",at,T,{fullscreen:"fullscreen",active:"active"},{},["*"]),t("ckYf")),pt=function(){function l(){}return l.prototype.draw=function(l,n,t,e){var u=_t.l(l),i=_t.l(n).attr("class","d3-tooltip").style("opacity",0),o=_t.a().outerRadius(200).innerRadius(100),r=_t.h(),a=_t.j(_t.k),s=!t||0===t.length;s&&(t=[{label:"",data:(c={},c[e]=1,c)}]);var c,_=t.map(function(l){return parseFloat(l.data[e].toString())||0}).reduce(function(l,n){return l+n},0),p=u.attr("width","100%").attr("viewBox","0 0 400 400").append("g").attr("transform","translate(200, 200)");p.selectAll("path").data(r(t.map(function(l){return parseFloat(l.data[e].toString())||1}))).enter().append("path").on("mouseover",function(l){var n=l.index,u=t[n].label,o=t[n].data,r=(t[n].data[e],Object.keys(t[n].data).sort(function(l,n){return l==e?-1:n==e?1:0})),a=s?"No Data Available":"<b>"+u+'</b>\n                    <hr style="margin: 2px"/>';if(!s){for(var c=[],p=0,d=r;p<d.length;p++){var g=d[p],h={project_count:"Total",relevance:"Relevance",funding_amount:"Amount"}[g]||g,f=parseFloat(o[g]),m="";m="funding_amount"===g?f.toLocaleString("en-US",{style:"currency",currency:"USD"}):f.toLocaleString();var y=[h,m].join(": ");g===e&&(y+=" ("+(100*o[g]/_).toFixed(2)+"%)"),c.push(y)}a+=c.join("<br>")}i.html(a),i.transition().duration(200).style("opacity",.9)}).on("mousemove",function(l){_t.e.pageX,window.outerWidth;i.style("left",_t.e.pageX+10+"px").style("top",_t.e.pageY+10-(window.scrollY||window.pageYOffset)+"px")}).on("mouseout",function(l){i.transition().duration(300).style("opacity",0)}).each(function(l){return l}).attr("d",o).style("fill",function(l){return s||!parseFloat(t[l.index].data[e].toString())?"#ddd":a(l.index.toString())})},l.prototype.export=function(l){return""},l}(),dt=function(){function l(){}return l.prototype.draw=function(l,n,t,e,u,i,o){null!==t&&void 0!==t||(t=[]);var r=t.map(function(l){return{value:+l.data[e],label:+l.label}}).sort(function(l,n){return l.label-n.label}),a=_t.l(l),s=_t.l(n).attr("class","d3-tooltip").style("opacity",0),c={top:20,right:20,bottom:40,left:110},_=1e3-c.left-c.right,p=300-c.top-c.bottom,d=a.attr("width","100%").attr("viewBox","0 0 "+(_+c.left+c.right)+" "+(p+c.top+c.bottom)).append("g").attr("transform","translate("+c.left+", "+c.top+")"),g=_t.i().rangeRound([0,_]).domain(_t.f(r,function(l){return l.label})),h=_t.i().rangeRound([p,0]).domain(_t.f(r,function(l){return l.value})),f=_t.b().x(function(l){return g(+l.label)}).y0(p).y1(function(l){return h(+l.value)});d.append("g").attr("transform","translate(0, "+p+")").call(_t.c(g).tickFormat(_t.g("d"))).append("text").attr("fill","#000").attr("x",_/2).attr("y",30).attr("dy","0.71em").attr("text-anchor","middle").text(u),d.append("g").call(_t.d(h).ticks(5)).append("text").attr("fill","#000").attr("transform","rotate(-90)").attr("x",p/-2).attr("y",-100).attr("dy","0.71em").attr("text-anchor","middle").text(i),d.append("path").datum(r).attr("fill","#3498DB").attr("opacity","0.75").attr("stroke","#263545").attr("stroke-opacity","0.8").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width","1px").attr("d",f),r.forEach(function(l){d.append("circle").attr("fill","#34495E").attr("stroke","#34495E").attr("opacity","0.65").attr("r","3px").attr("cx",g(l.label)).attr("cy",h(l.value)).on("mouseover",function(n){var t=l.label,e=l.value;s.html("\n                        <b>"+t+'</b>\n                        <hr style="margin: 2px"/>\n                         '+Number(e).toLocaleString()+" "+o),s.transition().duration(200).style("opacity",.9)}).on("mousemove",function(l){_t.e.pageX,window.outerWidth;s.style("left",_t.e.pageX+10+"px").style("top",_t.e.pageY+10-(window.scrollY||window.pageYOffset)+"px")}).on("mouseout",function(l){s.transition().duration(300).style("opacity",0)})}),h.ticks(5).forEach(function(l){d.append("line").attr("x1",0).attr("y1",h(l)).attr("x2",_).attr("y2",h(l)).attr("stroke","black").attr("opacity","0.04").attr("stroke-linejoin","round").attr("stroke-linecap","round")})},l.prototype.export=function(l){return""},l}(),gt=function(){function l(){this.loading=!1,this.xAxisLabel="",this.yAxisLabel="Year",this.tooltipDescriptor=""}return l.prototype.drawChart=function(){this.svg.nativeElement.innerHTML="","pie"===this.type?(new pt).draw(this.svg.nativeElement,this.tooltip.nativeElement,this.data,this.primaryKey):"line"===this.type&&(new dt).draw(this.svg.nativeElement,this.tooltip.nativeElement,this.data,this.primaryKey,this.xAxisLabel,this.yAxisLabel,this.tooltipDescriptor)},l.prototype.ngOnChanges=function(l){this.drawChart()},l.prototype.ngAfterViewInit=function(){},l.ctorParameters=function(){return[]},l}(),ht=[ot],ft=pn._10({encapsulation:0,styles:ht,data:{}}),mt=(pn._8("ui-chart",gt,F,{type:"type",data:"data",label:"label",description:"description",primaryKey:"primaryKey",loading:"loading",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDescriptor:"tooltipDescriptor"},{},[]),function(){function l(l,n){var t=this;this.sharedService=l,this.formBuilder=n,this.analytics={},this.fields={},this.loading=!1,this.requestChart=new pn.o,this.showMore=!1,this.form=n.group({display_type:["project_counts"],conversion_year:new Un.f({value:null,disabled:!0})}),this.form.controls.display_type.valueChanges.subscribe(function(l){var n=t.form.controls.conversion_year;"project_counts"===l?n.disable():n.enable()})}return l.prototype.updateFundingCharts=function(){for(var l=["project_funding_amounts_by_country","project_funding_amounts_by_cso_research_area","project_funding_amounts_by_cancer_type","project_funding_amounts_by_type","project_funding_amounts_by_year"],n=0,t=l;n<t.length;n++){var e=t[n];this.requestChart.emit({type:e,year:this.form.controls.conversion_year.value})}},l.prototype.ngOnChanges=function(){this.fields&&this.fields.conversion_years&&this.form.patchValue({conversion_year:this.fields.conversion_years[0].value})},l.ctorParameters=function(){return[{type:mn},{type:Un.e}]},l}()),yt=[it],vt=pn._10({encapsulation:0,styles:yt,data:{}}),bt=(pn._8("icrp-charts-panel",mt,H,{analytics:"analytics",fields:"fields",loading:"loading"},{requestChart:"requestChart"},[]),[".margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.button-panel[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}"]),Ct=[".flex[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"],xt=[".select-container[_ngcontent-%COMP%]{width:100%;position:relative}.select-input-container[_ngcontent-%COMP%]{cursor:text}.select-input-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.select-label[_ngcontent-%COMP%]{cursor:default}.select-label[_ngcontent-%COMP%], .select-label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.select-label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{cursor:pointer}.select-input[_ngcontent-%COMP%]{width:400px;display:inline-block;border:none;outline:none}.select-dropdown[_ngcontent-%COMP%]{position:absolute;left:0;right:0;z-index:9999;cursor:default}.select-container.default[_ngcontent-%COMP%]{padding-left:4px;border:1px solid #d1d1d1;border-radius:2px;color:#777}.select-input-container.default[_ngcontent-%COMP%]{padding-left:6px}.select-label.default[_ngcontent-%COMP%]{margin:2px 4px 2px -2px;border:1px solid #ddd;border-radius:2px}.select-label.default[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px #ddd}.select-label.default[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 4px;cursor:default}.select-label.default[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-left:1px solid #ddd;color:#ccc;cursor:pointer}.select-label.default[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child:hover{color:#999;box-shadow:0 0 2px #bbb}.select-input.default[_ngcontent-%COMP%]{margin-left:-2px;padding:6px 0}.select-dropdown.default[_ngcontent-%COMP%]{margin-top:1px;background-color:#fff;outline:1px solid #ccc;box-shadow:0 2px 3px #ddd;overflow-y:auto;overflow-x:hidden;max-height:200px}.select-dropdown-item.default[_ngcontent-%COMP%]{padding:4px 8px}.select-dropdown-item.default.selected[_ngcontent-%COMP%]{background-color:#dedede;color:#000;outline:1px solid #fff}input.select-input-disabled.default[_ngcontent-%COMP%]{width:100%;padding:6px 10px;margin-bottom:6px;border:1px solid #d1d1d1;background-color:#efefef;border-radius:2px;box-sizing:border-box}"],Pt=function(){function l(l){this._ref=l,this.itemDelimiter=",",this.validationRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.valid=!1,this.placeholder="",this.select=new pn.o,this.selectedItems=[]}return l.prototype.writeValue=function(l){this.selectedItems=JSON.parse(JSON.stringify(l)),this.emitValue()},l.prototype.propagateChange=function(l){},l.prototype.registerOnTouched=function(){},l.prototype.registerOnChange=function(l){this.propagateChange=l},l.prototype.emitValue=function(){this.propagateChange(this.selectedItems),this.select.emit(this.selectedItems)},l.prototype.removeSelectedItem=function(l){this.selectedItems.splice(l,1),this.emitValue()},l.prototype.handleKeyDownEvent=function(l){var n=this.input.nativeElement;l.key===this.itemDelimiter?(l.preventDefault(),this.addValueToSelection()):"Backspace"!==l.key||n.value.length||(this.valid=!0,this.selectedItems.pop()),this.emitValue()},l.prototype.handleKeyUpEvent=function(l){var n=this.input.nativeElement,t=this.validationRegex.test(n.value);0===this.selectedItems.length&&t&&(this.propagateChange([n.value]),this.select.emit([n.value]))},l.prototype.addValueToSelection=function(){var l=this.input.nativeElement,n=l.value;this.validationRegex.test(n)?(this.valid=!0,this.selectedItems.push(n),l.value=""):this.valid=!1,this.emitValue()},l.prototype.focusInput=function(l){this._ref.nativeElement.contains(l.target)?this.input.nativeElement.focus():(this.addValueToSelection(),this.emitValue())},l.ctorParameters=function(){return[{type:pn.m}]},l}(),wt=[xt],St=pn._10({encapsulation:0,styles:wt,data:{}}),It=(pn._8("ui-simple-select",Pt,X,{placeholder:"placeholder",itemDelimiter:"itemDelimiter",validationRegex:"validationRegex"},{select:"select"},[]),[".octicon[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-bottom;fill:currentColor}"]),jt=t("gAU+"),kt=function(){function l(){this.type="alert",this.octicons=null,this.octicons=jt}return l.prototype.ngAfterViewInit=function(){this.setSvgPath()},l.prototype.ngOnChanges=function(){this.setSvgPath()},l.prototype.setSvgPath=function(){var l='\n      <svg\n        class="octicon"\n        width="'+jt[this.type].width+'"\n        height="'+jt[this.type].height+'"\n        viewBox="'+jt[this.type].options.viewBox+'"\n        aria-hidden="true"\n      >\n        '+this.octicons[this.type].path+"\n      </svg>\n    ";this.container.nativeElement.innerHTML=l},l.ctorParameters=function(){return[]},l}(),Ot=[It],Rt=pn._10({encapsulation:0,styles:Ot,data:{}}),Mt=(pn._8("ui-icon",kt,Q,{type:"type"},{},[]),t("V5VU")),Ut=function(){function l(l,n){this.http=l,this.sharedService=n}return l.prototype.getRequest=function(l,n){void 0===n&&(n={});var t=new hn.h;for(var e in n){var u=n[e];u&&t.set(e,u)}return this.http.get(l,{search:t,withCredentials:this.sharedService.get("is_production")}).map(function(l){return l.text()})},l.prototype.emailResults=function(l){return this.getRequest("/api/database/email-results",l)},l.prototype.export=function(l,n){return this.getRequest(l,n)},l.ctorParameters=function(){return[{type:hn.d},{type:mn}]},l}(),Dt=function(){function l(l,n,t){this.sharedService=l,this.exportService=n,this.formbuilder=t,this.state={initial:!0,success:!1,pending:!1,valid:!1},this.emailForm=t.group({sender_name:["",Un.s.required],recipient_addresses:[[],Un.s.required],personal_message:[""]})}return l.prototype.sendEmail=function(){var l=this;this.state={initial:!1,pending:!0,success:!1,valid:!1};var n={search_id:+this.sharedService.get("searchID"),sender_name:this.emailForm.controls.sender_name.value,recipient_addresses:this.emailForm.controls.recipient_addresses.value,personal_message:this.emailForm.controls.personal_message.value};this.exportService.emailResults(n).subscribe(function(n){return l.state={initial:!1,pending:!1,success:!0,valid:!1}})},l.prototype.closeModal=function(){this.emailResultsModal.hide(),this.state={initial:!0,success:!1,pending:!1,valid:!1},this.emailForm.patchValue({name:"",recipient_emails:[],personal_message:""})},l.ctorParameters=function(){return[{type:mn},{type:Ut},{type:Un.e}]},l}(),Tt=[Ct],Et=pn._10({encapsulation:0,styles:Tt,data:{}}),At=(pn._8("icrp-email-results-button",Dt,ul,{},{},[]),[".flex[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"]),Ft=function(){function l(l,n){this.exportService=l,this.sharedService=n,this.loading=!1}return l.prototype.export=function(){var l=this,n={search_id:this.sharedService.get("searchID"),data_upload_id:this.sharedService.get("dataUploadID")};this.loading=!0,this.exportService.export(this.endpoint,n).subscribe(function(l){return document.location.href=l},function(l){return console.error(l)},function(){return l.loading=!1})},l.ctorParameters=function(){return[{type:Ut},{type:mn}]},l}(),zt=[At],Kt=pn._10({encapsulation:0,styles:zt,data:{}}),Vt=(pn._8("icrp-export-button",Ft,ol,{label:"label",endpoint:"endpoint"},{},[]),function(){function l(l){this.sharedService=l,this.authenticated=!1}return l.prototype.getRoutes=function(){var l=this.sharedService.get("componentType"),n={search:"/api/database/export",review:"/api/database/review/export"}[l];return{exportResults:this.sharedService.get("authenticated")?n+"/partners/search_results":n+"/search_results",exportResultsSingle:n+"/partners/search_results/single",exportAbstracts:n+"/partners/search_results/abstracts",exportAbstractsSingle:n+"/partners/search_results/abstracts/single",exportGraphs:this.sharedService.get("authenticated")?n+"/partners/search_results/graphs":n+"/search_results/graphs"}},l.ctorParameters=function(){return[{type:mn}]},l}()),Jt=[bt],Lt=pn._10({encapsulation:0,styles:Jt,data:{}}),Nt=(pn._8("icrp-export-buttons-panel",Vt,dl,{authenticated:"authenticated"},{},[]),[""]),Yt=["th[_ngcontent-%COMP%]{cursor:pointer}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:first-child, .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:first-child{width:300px;max-width:300px}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:nth-child(2), .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:nth-child(3), .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-child(2), .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-child(3){width:150px;max-width:150px}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:nth-child(4), .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:nth-child(5), .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:nth-child(6), .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-child(4), .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-child(5), .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-child(6){max-width:100px}.rotate-45[_ngcontent-%COMP%]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"],qt=t("rggq"),$t=t("LmfY"),Ht=t("dWcS"),Bt=function(){function l(){this.pageSizes=[50,100,150,200,250,300],this.loading=!0,this.sort=new pn.o,this.paginate=new pn.o,this.pageSize=this.pageSizes[0],this.pageNumber=0}return l.prototype.toggleSort=function(l){for(var n="asc"===l.sort?"desc":"asc",t=0,e=this.headers;t<e.length;t++){e[t].sort=null}l.sort=n,this.sort.emit({sort_column:l.key,sort_direction:l.sort})},l.prototype.emitPagination=function(){this.paginate.emit({page_size:this.pageSize,page_number:this.pageNumber})},l.prototype.setPageSize=function(l){this.pageSize=l,this.pageNumber=1,this.emitPagination()},l.prototype.setCurrentPage=function(l){this.pageNumber=l.page,this.emitPagination()},l.prototype.ngOnChanges=function(l){var n=this;l.data&&this.data&&this.table&&this.table.nativeElement&&window.setTimeout(function(l){bl(n.table.nativeElement)},0)},l.ctorParameters=function(){return[]},l}(),Wt=[Yt],Xt=pn._10({encapsulation:0,styles:Wt,data:{}}),Gt=(pn._8("ui-table",Bt,Ml,{headers:"headers",data:"data",numResults:"numResults",pageSizes:"pageSizes",loading:"loading"},{sort:"sort",paginate:"paginate"},[]),function(){function l(){this.results=[],this.numResults=0,this.loading=!0,this.sortPaginateEmitter=new pn.o,this.sortPaginateParameters={page_size:50,page_number:1,sort_column:"project_title",sort_direction:"asc"},this.headers=[{label:"Project Title",key:"project_title",link:"project_url",tooltip:"Title of Award",sort:"asc",width:200},{label:"PI",key:"pi_name",tooltip:"Principal Investigator",width:100},{label:"Institution",key:"institution",tooltip:"PI Institution",width:200},{label:"Ctry.",key:"country",tooltip:"PI Institution Country",width:100},{label:"Funding Org.",key:"funding_organization",tooltip:"Funding Organization of Award (abbreviated name shown)",width:100},{label:"Award Code",key:"award_code",tooltip:"Unique Identifier for Award (supplied by Partner)",width:100}]}return l.prototype.sortPaginate=function(l){this.sortPaginateParameters=Object.assign(this.sortPaginateParameters,l),this.sortPaginateEmitter.emit(this.sortPaginateParameters)},l}()),Qt=[Nt],Zt=pn._10({encapsulation:0,styles:Qt,data:{}}),le=(pn._8("icrp-results-table-panel",Gt,Tl,{results:"results",numResults:"numResults",loading:"loading"},{sortPaginateEmitter:"sortPaginate"},[]),function(){function l(l,n){var t=this;this.reviewService=l,this.sharedService=n,this.sortPaginateParameters={page_size:50,page_number:1,sort_column:"project_title",sort_direction:"asc"},this.state={projectCount:0,relatedProjectCount:0,lastBudgetYear:0},this.loading=!0,this.numResults=0,this.analytics={project_counts_by_country:null,project_counts_by_cso_research_area:null,project_counts_by_cancer_type:null,project_counts_by_type:null,project_counts_by_year:null,project_funding_amounts_by_country:null,project_funding_amounts_by_cso_research_area:null,project_funding_amounts_by_cancer_type:null,project_funding_amounts_by_type:null,project_funding_amounts_by_year:null},this.fields={},this.headers=[{label:"Project Title",key:"project_title",link:"project_url",tooltip:"Title of Award",sort:"asc"},{label:"PI",key:"pi_name",tooltip:"Principal Investigator"},{label:"Institution",key:"institution",tooltip:"PI Institution"},{label:"Ctry.",key:"country",tooltip:"PI Institution Country"},{label:"Funding Org.",key:"funding_organization",tooltip:"Funding Organization of Award (abbreviated name shown)"},{label:"Award Code",key:"award_code",tooltip:"Unique Identifier for Award (supplied by Partner)"}],this.success=!1,this.showAlert=!1,this.loadingMessage="Update in Progress...",l.getFields().subscribe(function(l){t.fields=l}),this.getSponsorUploads()}return l.prototype.getSponsorUploads=function(){var l=this;this.loading=!0,this.reviewService.getSponsorUploads().subscribe(function(n){n&&(l.sponsorUploadsTable=n,n[0]&&l.selectUploadID(n[0].data_upload_id)),l.loading=!1})},l.prototype.getSearchSummary=function(l){var n=this;return void 0===l&&(l=!0),this.reviewService.getSearchSummary({search_id:this.searchID}).map(function(l){return n.state.projectCount=+l.project_count,n.state.relatedProjectCount=+l.related_project_count,n.state})},l.prototype.getAnalytics=function(l,n,t){var e=this;void 0===n&&(n=[]),void 0===t&&(t=null),n&&0!==n.length||(n=Object.keys(this.analytics));for(var u=this,i=0,o=n;i<o.length;i++){var r=o[i];!function(n){var i=fn.Observable.timer(250).subscribe(function(l){return e.analytics[n]=[]});u.reviewService.getAnalytics({search_id:l,type:n,year:t}).subscribe(function(l){i.unsubscribe(),e.analytics[n]=l})}(r)}},l.prototype.getSearchResults=function(l,n){var t=this;void 0===n&&(n=!1);var e=fn.Observable.timer(100).subscribe(function(l){return t.loading=!0});this.reviewService.getSearchResults(l).subscribe(function(l){t.searchResults=l.results,t.searchID=l.search_id,t.numResults=l.results_count,t.sharedService.set("searchID",t.searchID),n&&t.getAnalytics(t.searchID),t.getSearchSummary().subscribe(),e.unsubscribe(),t.loading=!1})},l.prototype.sortPaginate=function(l){this.sortPaginateParameters=Object.assign(this.sortPaginateParameters,l),this.getSearchResults(Object.assign(this.sortPaginateParameters,{data_upload_id:this.uploadID}))},l.prototype.selectUploadID=function(l){var n=this;l!==this.uploadID&&(this.uploadID=l,this.resetAnalytics(),this.sharedService.set("dataUploadID",this.uploadID),this.currentSponsor=this.sponsorUploadsTable.filter(function(l){return l.data_upload_id==n.uploadID})[0],this.getSearchResults(Object.assign(this.sortPaginateParameters,{data_upload_id:l,page_number:1}),!0))},l.prototype.syncProd=function(l){var n=this;this.loading=!0,this.showAlert=!1,this.success=!0,this.reviewService.syncProd({data_upload_id:l}).subscribe(function(l){console.log(l),n.success=l,n.showAlert=!0,n.loading=!1,n.getSponsorUploads()})},l.prototype.resetAnalytics=function(){this.analytics={project_counts_by_country:null,project_counts_by_cso_research_area:null,project_counts_by_cancer_type:null,project_counts_by_type:null,project_counts_by_year:null,project_funding_amounts_by_country:null,project_funding_amounts_by_cso_research_area:null,project_funding_amounts_by_cancer_type:null,project_funding_amounts_by_type:null,project_funding_amounts_by_year:null}},l.ctorParameters=function(){return[{type:Yn},{type:mn}]},l}()),ne=[Vn],te=pn._10({encapsulation:0,styles:ne,data:{animation:[{type:7,name:"loadingState",definitions:[{type:0,name:"false",styles:{type:6,styles:{opacity:0,display:"none"},offset:null},options:void 0},{type:0,name:"true",styles:{type:6,styles:{opacity:"0.4",display:"flex"},offset:null},options:void 0},{type:1,expr:":enter",animation:{type:4,styles:null,timings:"10ms ease-in"},options:null},{type:1,expr:"true => false",animation:{type:4,styles:null,timings:"1000ms ease-out"},options:null},{type:1,expr:"false => true",animation:{type:4,styles:null,timings:"1000ms ease-in"},options:null}],options:{}}]}}),ee=(pn._8("icrp-review-page",le,Kl,{},{},[]),[""]),ue=function(){function l(l,n){this.http=l,this.sharedService=n,this.apiRoot=(n.get("apiRoot")||"")+"/api/database"}return l.prototype.getRequest=function(l,n){void 0===n&&(n={});var t=new hn.h;for(var e in n)t.set(e,n[e]);return this.http.get(l,{search:t,withCredentials:this.sharedService.get("is_production")}).map(function(l){return l.json()})},l.prototype.getDefaultParameters=function(){var l=(new Date).getFullYear();return{years:[l,l-1]}},l.prototype.getFields=function(){return this.getRequest(this.apiRoot+"/fields")},l.prototype.getSearchResults=function(l){return this.getRequest(this.apiRoot+"/search",l).map(this.applyProjectUrls)},l.prototype.getSortedPaginatedResults=function(l){return this.getRequest(this.apiRoot+"/sort_paginate",l).map(this.applyProjectUrls)},l.prototype.getAnalytics=function(l){var n=this.apiRoot+"/analytics"+(this.sharedService.get("authenticated")?"_partners":"");return this.getRequest(n,l)},l.prototype.getSearchParameters=function(l){return this.getRequest(this.apiRoot+"/search_parameters",l)},l.prototype.getSearchSummary=function(l){return this.getRequest(this.apiRoot+"/search_summary",l)},l.prototype.applyProjectUrls=function(l){var n=l.results.map(function(l){var n=Object.assign({},l);return n.project_url="/project/"+n.project_id,n});return{search_id:l.search_id,results:n,display_parameters:l.search_parameters}},l.ctorParameters=function(){return[{type:hn.d},{type:mn}]},l}(),ie=function(){function l(){this.fallbackStore={fields:{},searchState:{parameters:{},displayParameters:{},searchID:null,resultsCount:null,results:[],analytics:{}}},this.storageType="localStorage"}return l.prototype.get=function(l){var n=this.storageType;return this.storageAvailable(n)?JSON.parse(window[n][l]||null):this.fallbackStore[l]},l.prototype.set=function(l,n){var t=this.storageType;this.storageAvailable(t)?window[t][l]=JSON.stringify(n):this.fallbackStore[l]=n},l.prototype.exists=function(l){var n=this.storageType;return this.storageAvailable(n)?null!=window[n][l]&&void 0!=window[n][l]:null!=this.fallbackStore[l]&&void 0!=this.fallbackStore[l]},l.prototype.merge=function(l,n){var t=this.storageType;if(this.storageAvailable(t)){var e=this.get(l)||{};for(var u in n)e[u]=n[u];window[t][l]=JSON.stringify(e)}else{var e=this.get(l)||{};for(var u in n)e[u]=n[u];this.fallbackStore[l]=e}},l.prototype.clearAll=function(){for(var l in this.fallbackStore)this.set(l,null)},l.prototype.storageAvailable=function(l){var n=void 0;try{n=window[l];var t="__storage_test__";return n.setItem(t,t),n.removeItem(t),!0}catch(l){return l instanceof DOMException&&(22===l.code||1014===l.code||"QuotaExceededError"===l.name||"NS_ERROR_DOM_QUOTA_REACHED"===l.name)&&0!==n.length}},l}(),oe=function(){function l(l,n,t){this.searchService=l,this.storeService=n,this.sharedService=t,this.fields={},this.loadingMessage="Loading Page",this.state={loading:!0,searchID:Vl(),searchParameters:{},sortPaginateParameters:{},displayParameters:[],results:[],projectCount:0,relatedProjectCount:0,lastBudgetYear:0,analytics:{},expiredSearchID:!1},this.resetAnalytics(),this.storeService.clearAll()}return l.prototype.ngAfterViewInit=function(){var l=this;this.state.searchID=Vl(),this.storeService.clearAll(),this.updateFields().subscribe(function(n){l.storeService.clearAll(),l.loadingMessage="Fetching Data",l.retrieveInitialResults()})},l.prototype.retrieveInitialResults=function(){this.state.searchID?this.performSavedSearch(this.state.searchID):this.performDefaultSearch()},l.prototype.updateFields=function(){var l=this,n=this.storeService.get("fields");return n?fn.Observable.of(!0).delay(0).map(function(t){l.fields=n,l.searchForm.setFields(n)}):this.searchService.getFields().map(function(n){l.fields=n,l.searchForm.setFields(n),l.storeService.set("fields",n)})},l.prototype.isStoredStateValid=function(){var l=["searchID","searchParameters","displayParameters","results","projectCount","relatedProjectCount","lastBudgetYear","analytics"];if(Vl())return!1;if(!this.storeService.exists("previouslyAuthenticated")||this.sharedService.get("authenticated")!==this.storeService.get("previouslyAuthenticated"))return!1;for(var n=0,t=l;n<t.length;n++){var e=t[n];if(!this.storeService.exists(e)||!this.storeService.get(e))return console.log("error retrieving: ",e),!1}return!0},l.prototype.restoreState=function(){for(var l=this,n=["searchID","searchParameters","sortPaginateParameters","displayParameters","results","projectCount","relatedProjectCount","lastBudgetYear","analytics"],t=0,e=n;t<e.length;t++){var u=e[t];!function(n){fn.Observable.of(!0).delay(0).subscribe(function(t){switch(l.state[n]=l.storeService.get(n),n){case"searchParameters":l.searchForm.setParameters(l.state[n],!0);break;case"lastBudgetYear":fn.Observable.of(l.state.lastBudgetYear.toString()).delay(0).subscribe(function(n){return l.chartsPanel.form.controls.conversion_year.patchValue(n)});break;case"searchID":l.sharedService.set("searchID",l.state.searchID)}})}(u)}fn.Observable.of(!1).delay(100).subscribe(function(n){return l.state.loading=n})},l.prototype.performSavedSearch=function(l){var n=this;this.getSearchParameters(l).subscribe(function(t){if(!1===t[0])n.performDefaultSearch(),n.state.expiredSearchID=!0;else{var e=Nl(t);if(e.years){var u=(new Date).getFullYear(),i=n.sharedService.get("authenticated");e.include_future_years=!1;for(var o=0,r=e.years;o<r.length;o++){r[o]>u&&i&&(e.include_future_years=!0)}}n.searchForm.setParameters(e),n.getSortedPaginatedResults({search_id:l}),n.getSearchSummary(!0).subscribe(function(t){return n.getAnalytics(l)})}})},l.prototype.performDefaultSearch=function(){var l=this.searchService.getDefaultParameters();this.searchForm.setParameters(l,!0),this.getSearchResults({parameters:l})},l.prototype.getSearchParameters=function(l){return this.searchService.getSearchParameters({search_id:l})},l.prototype.getAnalytics=function(l,n,t){var e=this;void 0===n&&(n=[]),void 0===t&&(t=null),n&&0!==n.length||(n=this.sharedService.get("authenticated")?Object.keys(this.state.analytics):["project_counts_by_country","project_counts_by_cso_research_area","project_counts_by_cancer_type","project_counts_by_type"]);for(var u=this,i=0,o=n;i<o.length;i++){var r=o[i];!function(n){var i=fn.Observable.timer(250).subscribe(function(l){return e.state.analytics[n]=[]});null==t&&(t=u.state.lastBudgetYear),u.searchService.getAnalytics({search_id:l,type:n,year:t}).subscribe(function(l){i.unsubscribe(),e.state.analytics[n]=l,e.storeService.merge("analytics",e.state.analytics)})}(r)}},l.prototype.getSortedPaginatedResults=function(l){var n=this,t=Ll(l);this.storeService.set("sortPaginateParameters",l),this.sharedService.set("searchID",this.state.searchID),t.search_id=this.state.searchID;var e=fn.Observable.timer(500).subscribe(function(l){return n.state.loading=!0});this.searchService.getSortedPaginatedResults(t).subscribe(function(l){n.state.displayParameters=l.display_parameters,n.state.results=l.results,e.unsubscribe(),n.state.loading=!1})},l.prototype.getSearchResults=function(l){var n=this;this.resetAnalytics(),this.state.loading=!0,this.state.searchParameters=this.filterSearchParameters(Ll(l.parameters)),this.searchService.getSearchResults(this.state.searchParameters).subscribe(function(l){n.state.searchID=l.search_id,n.state.results=l.results,n.state.displayParameters=l.display_parameters,n.state.loading=!1,n.getSearchSummary(!0).subscribe(function(l){return n.getAnalytics(n.state.searchID)}),n.sharedService.set("searchID",n.state.searchID),n.storeService.set("previouslyAuthenticated",n.sharedService.get("authenticated")),n.storeFields(["searchID","searchParameters","displayParameters","results"])})},l.prototype.getSearchSummary=function(l){var n=this;return void 0===l&&(l=!0),this.searchService.getSearchSummary({search_id:this.state.searchID}).map(function(t){if(n.state.projectCount=+t.project_count,n.state.relatedProjectCount=+t.related_project_count,l){var e=n.fields.conversion_years.map(function(l){return+l.value}),u=+t.last_budget_year;n.state.lastBudgetYear=e.indexOf(u)>-1?u:e[0],n.chartsPanel.form.controls.conversion_year.patchValue(n.state.lastBudgetYear.toString())}return n.storeFields(["projectCount","relatedProjectCount","lastBudgetYear"]),n.state})},l.prototype.storeFields=function(l){for(var n=0,t=l;n<t.length;n++){var e=t[n];this.storeService.set(e,this.state[e])}},l.prototype.resetAnalytics=function(){this.state.analytics={project_counts_by_country:null,project_counts_by_cso_research_area:null,project_counts_by_cancer_type:null,project_counts_by_type:null,project_counts_by_year:null,project_funding_amounts_by_country:null,project_funding_amounts_by_cso_research_area:null,project_funding_amounts_by_cancer_type:null,project_funding_amounts_by_type:null,project_funding_amounts_by_year:null}},l.prototype.filterSearchParameters=function(l){var n=Ll(l);return n.search_terms&&n.search_type||(delete n.search_terms,delete n.search_type),n.years&&(n.years=n.years.filter(function(l,n,t){return t.indexOf(l)===n})),n.funding_organizations&&(n.funding_organizations=n.funding_organizations.filter(function(l){return!isNaN(l)})),n.cso_research_areas&&(n.cso_research_areas=n.cso_research_areas.filter(function(l){return!isNaN(l)})),n},l.ctorParameters=function(){return[{type:ue},{type:ie},{type:mn}]},l}(),re=["label[_ngcontent-%COMP%]{margin-bottom:0;margin-top:10px}.form-control[_ngcontent-%COMP%]{margin-bottom:5px}.radio-label[_ngcontent-%COMP%]{font-weight:400;margin:2px}.multiselect[_ngcontent-%COMP%]{max-height:300px;overflow:auto;border:1px solid #ccc;padding:4px}.vertical-spacer[_ngcontent-%COMP%]{margin:15px 0}"],ae=[".ui-panel-header[_ngcontent-%COMP%]{padding:10px;font-size:15px;border:1px solid #eee;color:#aaa;cursor:pointer}.ui-panel-header[_ngcontent-%COMP%]:hover{color:#666!important}.ui-panel-content[_ngcontent-%COMP%]{padding:10px;font-size:13px;border:1px solid #eee;border-top:none;margin-top:-2px}"],se=function(){function l(){this.title="",this.visible=!1}return l}(),ce=[ae],_e=pn._10({encapsulation:0,styles:ce,data:{animation:[{type:7,name:"visibilityChanged",definitions:[{type:0,name:"true",styles:{type:6,styles:{height:"*",paddingTop:10,paddingBottom:10,overflow:"visible",opacity:1},offset:null},options:void 0},{type:0,name:"false",styles:{type:6,styles:{height:0,paddingTop:0,paddingBottom:0,borderTop:"none",overflow:"hidden"},offset:null},options:void 0},{type:1,expr:"void => false",animation:{type:4,styles:null,timings:"0s"},options:null},{type:1,expr:"void => true",animation:{type:4,styles:null,timings:"0.1s"},options:null},{type:1,expr:"true <=> false",animation:{type:4,styles:null,timings:"0.15s ease-in-out"},options:null}],options:{}},{type:7,name:"rotationChanged",definitions:[{type:0,name:"true",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"false",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:":enter",animation:{type:4,styles:null,timings:"0.1s"},options:null},{type:1,expr:"active <=> inactive",animation:{type:4,styles:null,timings:"0.15s ease-in-out"},options:null}],options:{}}]}}),pe=(pn._8("ui-panel",se,ql,{title:"title",visible:"visible"},{},["*"]),function(){function l(l,n,t,e){this.formBuilder=l,this.searchService=n,this.storeService=t,this.sharedService=e,this.fields={search_terms:[],search_type:[],years:[],include_future_years:[],institution:[],pi_first_name:[],pi_last_name:[],pi_orcid:[],award_code:[],countries:[],states:[],cities:[],funding_organizations:[],funding_organization_types:[],cancer_types:[],is_childhood_cancer:[],project_types:[],cso_research_areas:[]},this.parameters={},this.defaultParameters={},this.displayParameters={},this.search=new pn.o,this.form=l.group({search_terms:[""],search_type:[""],years:[""],include_future_years:[],institution:[""],pi_first_name:[""],pi_last_name:[""],pi_orcid:[""],award_code:[""],countries:[""],states:[""],cities:[""],funding_organizations:[""],funding_organization_types:[""],cancer_types:[""],is_childhood_cancer:[""],project_types:[""],cso_research_areas:[""]})}return l.prototype.submit=function(){var l=this;this.parameters={},this.form.controls.search_terms.value&&!this.form.controls.search_type.value&&this.form.controls.search_type.patchValue("all");for(var n in this.form.controls){var t=this.form.controls[n].value;(null!=t&&t.length>0||!0===t)&&(this.parameters[n]=t)}window.setTimeout(function(n){return l.search.emit({parameters:l.parameters,displayParameters:l.displayParameters})},0)},l.prototype.setFields=function(l){this.fields=l},l.prototype.setParameters=function(l,n){var t=this;void 0===n&&(n=!1),n&&this.form.reset();for(var e in l)!function(n){setTimeout(function(e){return t.form.controls[n].patchValue(l[n])},0)}(e)},l.prototype.setDefaultParameters=function(){this.defaultParameters=this.searchService.getDefaultParameters(),this.setParameters(this.defaultParameters,!0)},l.prototype.updateDisplayParameters=function(l,n){n&&n.length&&(this.displayParameters[l]=n.map(function(l){return l.label||l.value||l}))},l.prototype.filterYears=function(){var l=this.form.controls.include_future_years.value;if(!this.fields||!this.fields.years||!this.fields.years.length)return[];var n=this.fields.years.filter(function(n){return l||n.value<=(new Date).getFullYear()});return n.unshift({label:"All Years",value:n.map(function(l){return l.value}).join(",")}),n},l.prototype.filterStates=function(l,n){return l.filter(function(l){return n.indexOf(l.group_1)>-1||!n.length})},l.prototype.filterCities=function(l,n,t){return l.filter(function(l){return t.map(function(l){return l.trim()}).indexOf(l.group_2)>-1||!t.length}).filter(function(l){return n.map(function(l){return l.trim()}).indexOf(l.group_1)>-1||!n.length})},l.prototype.clearLocations=function(){this.form.controls.states.patchValue([]),this.form.controls.cities.patchValue([])},l.prototype.clearForm=function(){this.form.reset(),this.storeService.clearAll()},l.ctorParameters=function(){return[{type:Un.e},{type:ue},{type:ie},{type:mn}]},l}()),de=[re],ge=pn._10({encapsulation:0,styles:de,data:{}}),he=(pn._8("icrp-search-form",pe,Wl,{},{search:"search"},[]),[".bold[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.orange[_ngcontent-%COMP%]{color:orange}.blue[_ngcontent-%COMP%]{color:#4682b4}.vertical-padding[_ngcontent-%COMP%]{padding:10px 0}table.display-parameters[_ngcontent-%COMP%]{border:none;margin-bottom:none}table.display-parameters[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{min-width:40px;padding-right:10px}.responsive-wrapper[_ngcontent-%COMP%]{width:100%;min-height:.01%;overflow-y:hidden;overflow-x:auto;-ms-overflow-style:-ms-autohiding-scrollbar}"]),fe=function(){function l(){this.displayParameters=[],this.loading=!0,this.map={"TermSearchType:":"Term Search Type:","ProjectType:":"Project Type:","AwardCode:":"Award Code:","piLastName:":"PI Last Name:","piFirstName:":"PI First Name:","piORCiD:":"PI ORCiD:","FundingOrgType:":"Funding Organization Type:","FundingOrg:":"Funding Organization:","CancerType:":"Cancer Type:"},this.keys=Object.keys(this.map)}return l.prototype.getSummary=function(){var l=this;return this.loading?"Loading...":this.displayParameters&&0!==this.displayParameters.length?"<b>Search Criteria: </b>"+this.displayParameters.map(function(n){return l.getDisplayName(n[0])}).filter(function(l){return l.length}).map(function(l){return":"==l[l.length-1]?l.substring(0,l.length-1):l}).join(" + "):"All projects are shown below. Use the form on the left to refine search results"},l.prototype.getDisplayName=function(l){return this.map[l]||l},l}(),me=[he],ye=pn._10({encapsulation:0,styles:me,data:{}}),ve=(pn._8("icrp-search-summary-panel",fe,ln,{displayParameters:"displayParameters",projectCount:"projectCount",relatedProjectCount:"relatedProjectCount",loading:"loading"},{},[]),[ee]),be=pn._10({encapsulation:0,styles:ve,data:{}}),Ce=(pn._8("icrp-search-page",oe,rn,{},{},[]),[]),xe=pn._10({encapsulation:2,styles:Ce,data:{}}),Pe=pn._8("icrp-root",yn,_n,{},{},[]),we=t("fc+i"),Se=t("f9zQ"),Ie=t("fL27"),je=t("EyWH"),ke=t("BhHz"),Oe=t("PK6g"),Re=t("Xuu1"),Me=t("eJnt"),Ue=t("EQxj"),De=t("u/Dz"),Te=function(){function l(){}return l.forRoot=function(){return{ngModule:l,providers:[Sn]}},l}(),Ee=function(){function l(){}return l.forRoot=function(){return{ngModule:l,providers:[]}},l}(),Ae=function(){function l(){}return l.forRoot=function(){return{ngModule:l,providers:[]}},l}(),Fe=pn._9(gn,[yn],function(l){return pn._23([pn._24(512,pn.k,pn._4,[[8,[vn.a,bn.a,Cn.a,xn.a,On,En,Kn,Pe]],[3,pn.k],pn.A]),pn._24(5120,pn.y,pn._22,[[3,pn.y]]),pn._24(4608,wn.h,wn.g,[pn.y]),pn._24(4608,pn.i,pn.i,[]),pn._24(5120,pn.a,pn._14,[]),pn._24(5120,pn.w,pn._19,[]),pn._24(5120,pn.x,pn._20,[]),pn._24(4608,we.c,we.t,[wn.b]),pn._24(6144,pn.N,null,[we.c]),pn._24(4608,we.f,we.g,[]),pn._24(5120,we.d,function(l,n,t,e){return[new we.l(l),new we.p(n),new we.o(t,e)]},[wn.b,wn.b,wn.b,we.f]),pn._24(4608,we.e,we.e,[we.d,pn.C]),pn._24(135680,we.n,we.n,[wn.b]),pn._24(4608,we.m,we.m,[we.e,we.n]),pn._24(5120,Se.a,Ie.d,[]),pn._24(5120,Se.c,Ie.e,[]),pn._24(4608,Se.b,Ie.c,[Se.a,Se.c]),pn._24(5120,pn.L,Ie.f,[we.m,Se.b,pn.C]),pn._24(6144,we.q,null,[we.n]),pn._24(4608,pn.S,pn.S,[pn.C]),pn._24(4608,we.h,we.h,[wn.b]),pn._24(4608,we.j,we.j,[wn.b]),pn._24(4608,Un.v,Un.v,[]),pn._24(4608,Un.e,Un.e,[]),pn._24(4608,hn.c,hn.c,[]),pn._24(4608,hn.g,hn.b,[]),pn._24(5120,hn.j,hn.k,[]),pn._24(4608,hn.i,hn.i,[hn.c,hn.g,hn.j]),pn._24(4608,hn.f,hn.a,[]),pn._24(5120,hn.d,hn.l,[hn.i,hn.f]),pn._24(4608,je.b,Ie.b,[pn.L,we.b]),pn._24(4608,Gn.a,Gn.a,[]),pn._24(4608,ke.a,ke.a,[]),pn._24(4608,Xn.a,Xn.a,[pn.k,pn.C,pn.u,ke.a,pn.e]),pn._24(4608,Ht.a,Ht.a,[]),pn._24(4608,Oe.a,Oe.a,[Xn.a]),pn._24(4608,Ln.a,Ln.a,[]),pn._24(4608,Sn,Sn,[]),pn._24(4608,mn,mn,[hn.d]),pn._24(4608,ue,ue,[hn.d,mn]),pn._24(4608,Yn,Yn,[hn.d,mn]),pn._24(4608,Ut,Ut,[hn.d,mn]),pn._24(4608,ie,ie,[]),pn._24(512,wn.a,wn.a,[]),pn._24(1024,pn.n,we.r,[]),pn._24(1024,pn.b,function(l,n){return[we.s(l,n)]},[[2,we.i],[2,pn.B]]),pn._24(512,pn.c,pn.c,[[2,pn.b]]),pn._24(131584,pn._12,pn._12,[pn.C,pn._5,pn.u,pn.n,pn.k,pn.c]),pn._24(2048,pn.e,null,[pn._12]),pn._24(512,pn.d,pn.d,[pn.e]),pn._24(512,we.a,we.a,[[3,we.a]]),pn._24(512,Un.t,Un.t,[]),pn._24(512,Un.i,Un.i,[]),pn._24(512,Un.q,Un.q,[]),pn._24(512,hn.e,hn.e,[]),pn._24(512,Ie.a,Ie.a,[]),pn._24(512,Re.a,Re.a,[]),pn._24(512,Me.a,Me.a,[]),pn._24(512,Ue.a,Ue.a,[]),pn._24(512,De.a,De.a,[]),pn._24(512,Te,Te,[]),pn._24(512,Ee,Ee,[]),pn._24(512,Ae,Ae,[]),pn._24(512,gn,gn,[])])});dn.production&&Object(pn.Y)(),Object(we.k)().bootstrapModuleFactory(Fe).catch(function(l){return console.log(l)})},gFIY:function(l,n){function t(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}t.keys=function(){return[]},t.resolve=t,l.exports=t,t.id="gFIY"}},[0]);