<ui-overlay [active]="state.loading && (!state.results || !state.results.length)" [fullscreen]="true">
  <ui-spinner></ui-spinner>
  <br>Fetching Data
</ui-overlay>



  <ui-simple-select #simple>
  </ui-simple-select>

  <br>
  <div>
  {{ simple | json }}
  </div>
  
<div class="row">
  <div class="col-sm-4">
    <icrp-search-form #searchform
      (search)="getSearchResults($event)">
    </icrp-search-form>
  </div>

  <div class="col-sm-8">
    <icrp-search-criteria-display
      [criteria]="state.displayParameters">
    </icrp-search-criteria-display>

    <br>

    <icrp-charts-panel
      [analytics]="state.analytics"
      [fields]="fields"
      (requestChart)="this.getAnalytics(state.searchID, [$event.type], $event.year)">
    </icrp-charts-panel>

    <br>

    <icrp-export-buttons-panel
      *ngIf="state.results && state.results.length"
      [authenticated]="sharedService.get('authenticated')">
    </icrp-export-buttons-panel>

    <icrp-results-table-panel
      [loading]="state.loading"
      [results]="state.results"
      [numResults]="state.numResults"
      (sortPaginate)="getSortedPaginatedResults($event)">
    </icrp-results-table-panel>

  </div>
</div>
